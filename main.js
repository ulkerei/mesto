(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._headers=e.headers}var n,r;return n=t,(r=[{key:"_check",value:function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status))}},{key:"getProfileInfo",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then((function(t){return e._check(t)}))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then((function(t){return e._check(t)}))}},{key:"setUserInfo",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.job,avatar:e.avatar})}).then((function(e){return t._check(e)}))}},{key:"postNewCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.place,link:e.link})}).then((function(e){return t._check(e)}))}},{key:"deleteOwnersCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._check(e)}))}},{key:"like",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then((function(e){return t._check(e)}))}},{key:"unlike",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._check(e)}))}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,o,i,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._place=t.place||t.name,this._link=t.link,this._likes=t.likes||[],this.id=t._id,this._owner=t.owner,this._self=n,this._selector=r,this._template=document.querySelector(r).content,this._element=this._template.querySelector(".cards__element").cloneNode(!0),this._like=this._element.querySelector(".cards__like"),this._counter=this._element.querySelector(".cards__likes-counter"),this._del=this._element.querySelector(".cards__delete"),this._view=this._element.querySelector(".cards__image"),this._handelView=o,this._openDeletePopup=i,this._handelLike=u}var t,r;return t=e,(r=[{key:"likeCard",value:function(){this._like.classList.toggle("cards__like_state_active")}},{key:"updateCounter",value:function(e){this._counter.textContent=e}},{key:"isLiked",value:function(){return this._like.classList.contains("cards__like_state_active")}},{key:"removeCard",value:function(){this._element.remove(),this._element=null}},{key:"_setEventListeners",value:function(){var e=this;this._view.addEventListener("click",(function(){return e._handelView(e._place,e._link)})),this._like.addEventListener("click",(function(){return e._handelLike(e)})),this._del.addEventListener("click",(function(){return e._openDeletePopup(e)}))}},{key:"createCard",value:function(){var e=this;return this._view.src=this._link,this._view.alt=this._place,this._element.querySelector(".cards__place").textContent=this._place,this._counter.textContent=this._likes.length,this._owner._id!==this._self&&this._del.classList.add("cards__delete_hidden"),this._likes.some((function(t){return t._id===e._self}))&&this._like.classList.add("cards__like_state_active"),this._setEventListeners(),this._element}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){var r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(e){e.validity.valid?i._hideInputError(e):i._showInputError(e,e.validationMessage)},(r="_checkValidity")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inputErrorClass=t.inputErrorClass,this._errorActiveClass=t.errorActiveClass,this._errorTypeTemplate=t.errorTypeTemplate,this._element=n,this._inputList=Array.from(this._element.querySelectorAll(this._inputSelector))}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){this._errorElement=this._element.querySelector("".concat(this._errorTypeTemplate).concat(e.id)),e.classList.add(this._inputErrorClass),this._errorElement.textContent=t,this._errorElement.classList.add(this._errorActiveClass)}},{key:"_hideInputError",value:function(e){this._errorElement=this._element.querySelector("".concat(this._errorTypeTemplate).concat(e.id)),e.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorActiveClass),this._errorElement.textContent=""}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._buttonElement.setAttribute("disabled",!0):this._buttonElement.removeAttribute("disabled")}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkValidity(t),e._toggleButtonState()}))}))}},{key:"inactivateSubmitButton",value:function(){this._element.querySelector(".popup__button").setAttribute("disabled",!0)}},{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"enableValidation",value:function(){this._buttonElement=this._element.querySelector(this._submitButtonSelector),this._toggleButtonState(),this._setEventListeners()}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._target=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"placeItem",value:function(e,t){t?this._target.append(e):this._target.prepend(e)}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this._button=this._popup.querySelector(".popup__button")}var t,n;return t=e,(n=[{key:"openPopup",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"closePopup",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.closePopup()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){(t.target.classList.contains("popup__close-x")||t.target.classList.contains("popup__overlay"))&&e.closePopup()}))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=h(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},f.apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function y(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(o){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._viewImage=t._popup.querySelector(".popup__view-image"),t._viewLocation=t._popup.querySelector(".popup__view-location"),t}return t=u,(n=[{key:"openPopup",value:function(e,t){this._viewImage.src=t,this._viewImage.alt=e,this._viewLocation.textContent=e,f(d(u.prototype),"openPopup",this).call(this)}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(s);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},w.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function E(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._handleFormSubmit=t,n._form=n._popup.querySelector(".popup__form"),n._inputs=Array.from(n._form.querySelectorAll(".popup__input")),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputs.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;w(S(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault();var n=e._getInputValues();e._handleFormSubmit(n)}))}},{key:"closePopup",value:function(){w(S(u.prototype),"closePopup",this).call(this),this._form.reset()}},{key:"showLoading",value:function(e){e?this._button.textContent="Сохранение...":this._popup.classList.contains("popup_type_add")?this._button.textContent="Создать":this._button.textContent="Сохранить"}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(s);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=C(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},L.apply(this,arguments)}function C(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function T(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._handleFormSubmit=t,n._form=n._popup.querySelector(".popup__form"),n}return t=u,(n=[{key:"openPopup",value:function(e){this._element=e,L(q(u.prototype),"openPopup",this).call(this)}},{key:"setEventListeners",value:function(){var e=this;L(q(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmit()}))}},{key:"setSubmit",value:function(e){this._handleSubmit=e}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(s);function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t.name),this._job=document.querySelector(t.job),this._avatar=document.querySelector(t.avatar)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._info={name:this._name.textContent,job:this._job.textContent},this._info}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._job.textContent=e.job||e.about,this._id=e._id,this._avatar.style.backgroundImage="url(".concat(e.avatar,")")}}])&&U(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inputErrorClass:"popup__input_type_error",errorActiveClass:"popup__input-error_active",errorTypeTemplate:".popup__input-error_type_"},V=document.querySelector(".popup__input_type_name"),D=document.querySelector(".popup__input_type_job"),N=document.querySelector(".profile__button_type_add"),F=document.querySelector(".profile__button_type_edit"),G=document.querySelector(".profile__button_type_edit-avatar"),J="#cards__element",M=document.querySelector(".popup__form_type_add"),z=document.querySelector(".popup__form_type_edit"),H=document.querySelector(".popup__form_type_avatar"),$=new t({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-48",headers:{authorization:"8363e0f5-2c67-4395-bf21-4f6fde47b262","Content-Type":"application/json"}}),K=new c({renderer:function(e){var t=new r(e,re._id,J,(function(){return ue(e.name,e.link)}),oe,ie);K.placeItem(t.createCard(),!0)}},".cards"),Q=new i(B,M),W=new i(B,z),X=new i(B,H),Y=new v(".popup_type_viewer"),Z=new R(".popup_type_confirm"),ee=new O(".popup_type_add",(function(e){ee.showLoading(!0),$.postNewCard(e).then((function(e){var t=new r(e,re._id,J,(function(){return ue(e.place,e.link)}),oe,ie);K.placeItem(t.createCard(),!1),ee.closePopup()})).catch((function(e){console.log(e)})).finally((function(){return ee.showLoading(!1)}))})),te=new O(".popup_type_edit",(function(e){te.showLoading(!0),$.setUserInfo(e).then((function(e){te.closePopup(),re.setUserInfo(e)})).catch((function(e){console.log(e)})).finally((function(){return te.showLoading(!1)}))})),ne=new O(".popup_type_avatar",(function(e){ne.showLoading(!0),$.setUserInfo(e).then((function(e){ne.closePopup(),re.setUserInfo(e)})).catch((function(e){console.log(e)})).finally((function(){return ne.showLoading(!1)}))})),re=new x({name:".profile__name",job:".profile__job",avatar:".profile__avatar"});function oe(e){Z.openPopup(),Z.setSubmit((function(){$.deleteOwnersCard(e.id).then((function(){e.removeCard(),Z.closePopup()})).catch((function(e){console.log(e)}))}))}function ie(e){e.isLiked()?$.unlike(e.id).then((function(t){e.updateCounter(t.likes.length),e.likeCard()})).catch((function(e){console.log(e)})):$.like(e.id).then((function(t){e.updateCounter(t.likes.length),e.likeCard()})).catch((function(e){console.log(e)}))}function ue(e,t){Y.openPopup(e,t)}Promise.all([$.getProfileInfo(),$.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,c=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];re.setUserInfo(o),K.renderItems(i)})).catch((function(e){console.log(e)})),W.enableValidation(),Q.enableValidation(),X.enableValidation(),Y.setEventListeners(),ee.setEventListeners(),te.setEventListeners(),ne.setEventListeners(),Z.setEventListeners(),F.addEventListener("click",(function(){var e=re.getUserInfo();re.setUserInfo(e),V.value=e.name,D.value=e.job,W.resetValidation(),te.openPopup()})),N.addEventListener("click",(function(){Q.resetValidation(),ee.openPopup()})),G.addEventListener("click",(function(){X.resetValidation(),ne.openPopup()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LDRDQUFBLEksZ3hCQUF2QjJLLEVBQXVCLEtBQWJjLEVBQWEsS0FDN0JuQyxHQUFRb0IsWUFBWUMsR0FFcEJ2QixFQUFNc0MsWUFBYUQsRUFDcEIsSUFDQXJCLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsRUFDYixJQUdEVixFQUFrQmdDLG1CQUNsQmpDLEVBQWlCaUMsbUJBQ2pCL0IsRUFBb0IrQixtQkFHcEI5QixFQUFjK0Isb0JBQ2Q3QixHQUFhNkIsb0JBQ2JuQixHQUFjbUIsb0JBQ2RoQixHQUFnQmdCLG9CQUNoQjlCLEVBQXNCOEIsb0JBRXRCaEQsRUFBVzVGLGlCQUFpQixTQUFTLFdBQ25DLElBQU1rSCxFQUFPWixHQUFRdUMsY0FDckJ2QyxHQUFRb0IsWUFBWVIsR0FDcEJ6QixFQUFZakIsTUFBUTBDLEVBQUs1SixLQUN6Qm9JLEVBQVdsQixNQUFRMEMsRUFBSzFKLElBQ3hCbUosRUFBa0JtQyxrQkFDbEJyQixHQUFjSyxXQUNmLElBRURuQyxFQUFVM0YsaUJBQWlCLFNBQVMsV0FDbEMwRyxFQUFpQm9DLGtCQUNqQi9CLEdBQWFlLFdBQ2QsSUFFRGpDLEVBQWE3RixpQkFBaUIsU0FBUyxXQUNyQzRHLEVBQW9Ca0Msa0JBQ3BCbEIsR0FBZ0JFLFdBQ2pCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsLFxyXG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVyc1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG4gIGdldFByb2ZpbGVJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuX2NoZWNrKHJlcykpXHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgICAudGhlbihyZXMgPT4gdGhpcy5fY2hlY2socmVzKSlcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHZhbHVlcykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiB2YWx1ZXMubmFtZSxcclxuICAgICAgICBhYm91dDogdmFsdWVzLmpvYixcclxuICAgICAgICBhdmF0YXI6IHZhbHVlcy5hdmF0YXJcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAudGhlbihyZXMgPT4gdGhpcy5fY2hlY2socmVzKSlcclxuICB9XHJcbi8qXHJcbiAgc2V0QXZhdGFyKHZhbHVlcykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiB2YWx1ZXMuYXZhdGFyXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuX2NoZWNrKHJlcykpXHJcbiAgfVxyXG4qL1xyXG4gIHBvc3ROZXdDYXJkKHZhbHVlcykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IHZhbHVlcy5wbGFjZSxcclxuICAgICAgICBsaW5rOiB2YWx1ZXMubGlua1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB0aGlzLl9jaGVjayhyZXMpKVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlT3duZXJzQ2FyZChjYXJkSWQpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4ocmVzID0+IHRoaXMuX2NoZWNrKHJlcykpXHJcbiAgICB9XHJcblxyXG4gIGxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuX2NoZWNrKHJlcykpXHJcbiAgfVxyXG5cclxuICB1bmxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuX2NoZWNrKHJlcykpXHJcbiAgfVxyXG59IiwiLyrQmtCw0YDRgtC+0YfQutC4Ki9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgdXNlcklkLCB0ZW1wbGF0ZVNlbGVjdG9yLCBoYW5kZWxWaWV3LCBvcGVuRGVsZXRlUG9wdXAsIGhhbmRlbExpa2UpIHtcclxuICAgIHRoaXMuX3BsYWNlID0gZGF0YS5wbGFjZSB8fCBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzIHx8IFtdO1xyXG4gICAgdGhpcy5pZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fb3duZXIgPSBkYXRhLm93bmVyO1xyXG4gICAgdGhpcy5fc2VsZiA9IHVzZXJJZDtcclxuICAgIHRoaXMuX3NlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcclxuICAgIHRoaXMuX3RlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0ZW1wbGF0ZVNlbGVjdG9yKS5jb250ZW50O1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX3RlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fZWxlbWVudCcpLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHRoaXMuX2xpa2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fbGlrZScpO1xyXG4gICAgdGhpcy5fY291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19saWtlcy1jb3VudGVyJyk7XHJcbiAgICB0aGlzLl9kZWwgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fZGVsZXRlJyk7XHJcbiAgICB0aGlzLl92aWV3ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2ltYWdlJyk7XHJcbiAgICB0aGlzLl9oYW5kZWxWaWV3ID0gaGFuZGVsVmlldztcclxuICAgIHRoaXMuX29wZW5EZWxldGVQb3B1cCA9IG9wZW5EZWxldGVQb3B1cDtcclxuICAgIHRoaXMuX2hhbmRlbExpa2UgPSBoYW5kZWxMaWtlO1xyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9saWtlLmNsYXNzTGlzdC50b2dnbGUoJ2NhcmRzX19saWtlX3N0YXRlX2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ291bnRlciAobGlrZXMpIHtcclxuICAgIHRoaXMuX2NvdW50ZXIudGV4dENvbnRlbnQgPSBsaWtlcztcclxuICB9XHJcblxyXG4gIGlzTGlrZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGlrZS5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmRzX19saWtlX3N0YXRlX2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3ZpZXcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kZWxWaWV3KHRoaXMuX3BsYWNlLCB0aGlzLl9saW5rKSk7XHJcbiAgICB0aGlzLl9saWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGVsTGlrZSh0aGlzKSk7XHJcbiAgICB0aGlzLl9kZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9vcGVuRGVsZXRlUG9wdXAodGhpcykpO1xyXG4gIH1cclxuXHJcblxyXG4gIGNyZWF0ZUNhcmQgKCkge1xyXG4gICAgdGhpcy5fdmlldy5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fdmlldy5hbHQgPSB0aGlzLl9wbGFjZTtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19wbGFjZScpLnRleHRDb250ZW50ID0gdGhpcy5fcGxhY2U7XHJcbiAgICB0aGlzLl9jb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgaWYgKHRoaXMuX293bmVyLl9pZCAhPT0gdGhpcy5fc2VsZikge1xyXG4gICAgICB0aGlzLl9kZWwuY2xhc3NMaXN0LmFkZCgnY2FyZHNfX2RlbGV0ZV9oaWRkZW4nKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLl9saWtlcy5zb21lKChsaWtlKSA9PiBsaWtlLl9pZCA9PT0gdGhpcy5fc2VsZikpIHtcclxuICAgICAgdGhpcy5fbGlrZS5jbGFzc0xpc3QuYWRkKCdjYXJkc19fbGlrZV9zdGF0ZV9hY3RpdmUnKTtcclxuICAgIH1cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IHNldHRpbmdzLmZvcm1TZWxlY3RvcixcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yLFxyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcixcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcyxcclxuICAgIHRoaXMuX2Vycm9yQWN0aXZlQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckFjdGl2ZUNsYXNzLFxyXG4gICAgdGhpcy5fZXJyb3JUeXBlVGVtcGxhdGUgPSBzZXR0aW5ncy5lcnJvclR5cGVUZW1wbGF0ZSxcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50LFxyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpXHJcbiAgfVxyXG5cclxuICAvKtCh0L7QvtCx0YnQtdC90LjRjyDQvtCxINC+0YjQuNCx0LrQsNGFINCy0LLQvtC00LAqL1xyXG5fc2hvd0lucHV0RXJyb3IgKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX2Vycm9yVHlwZVRlbXBsYXRlfSR7aW5wdXRFbGVtZW50LmlkfWApO1xyXG4gIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQWN0aXZlQ2xhc3MpO1xyXG59XHJcblxyXG5faGlkZUlucHV0RXJyb3IgKGlucHV0RWxlbWVudCkge1xyXG4gIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl9lcnJvclR5cGVUZW1wbGF0ZX0ke2lucHV0RWxlbWVudC5pZH1gKTtcclxuICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQWN0aXZlQ2xhc3MpO1xyXG4gIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG59XHJcblxyXG4vKtCf0YDQvtCy0LXRgNC60LAg0LLQsNC70LjQtNC90L7RgdGC0Lgg0L/QvtC70Y8qL1xyXG5fY2hlY2tWYWxpZGl0eSA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG5cclxuLyrQktCw0LvQuNC00L3QvtGB0YLRjCDRhNC+0YDQvNGLKi9cclxuX2hhc0ludmFsaWRJbnB1dCAoKSB7XHJcbiAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gIH0pOyBcclxufVxyXG5cclxuLyrRgdC+0YHRgtC+0Y/QvdC40LUg0LrQvdC+0L/QutC4Ki9cclxuX3RvZ2dsZUJ1dHRvblN0YXRlICgpIHtcclxuICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICB9XHJcbn1cclxuXHJcbi8q0KHQu9GD0YjQsNGC0LXQu9C4INCy0LLQvtC00LAqL1xyXG5fc2V0RXZlbnRMaXN0ZW5lcnMgKCkge1xyXG4gIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoIChpbnB1dEVsZW1lbnQgPT4ge1xyXG4gICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9jaGVja1ZhbGlkaXR5IChpbnB1dEVsZW1lbnQpO1xyXG4gICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSAoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vKtC00LXQsNC60YLQuNCy0LDRhtC40Y8g0LrQvdC+0L/QutC4Ki9cclxuaW5hY3RpdmF0ZVN1Ym1pdEJ1dHRvbigpIHtcclxuICBjb25zdCBzdWJtaXRCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uJyk7XHJcbiAgc3VibWl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcclxufVxyXG5cclxuLyrQntGH0LjRgdGC0LrQsCovXHJcbnJlc2V0VmFsaWRhdGlvbigpIHtcclxuICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudClcclxuICB9KTtcclxufVxyXG5cclxuLyrQktCw0LvQuNC00LDRhtC40Y8qL1xyXG5lbmFibGVWYWxpZGF0aW9uICgpIHtcclxuICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSAoKTtcclxuICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyAoKTtcclxufTtcclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yICh7cmVuZGVyZXJ9LCB0YXJnZXRTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX3RhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0U2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMgKGl0ZW1zKSB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwbGFjZUl0ZW0gKGVsZW1lbnQsIGlzSW5pbnRpYWwpIHtcclxuICAgIGlmIChpc0luaW50aWFsKSB7XHJcbiAgICAgIHRoaXMuX3RhcmdldC5hcHBlbmQoZWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl90YXJnZXQucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24nKTtcclxuICB9XHJcblxyXG4gIG9wZW5Qb3B1cCgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcbiAgXHJcbiAgY2xvc2VQb3B1cCgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZS14JykgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19vdmVybGF5JykpIHtcclxuICAgICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7c3VwZXIocG9wdXApLFxyXG4gICAgdGhpcy5fdmlld0ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX192aWV3LWltYWdlJyk7XHJcbiAgICB0aGlzLl92aWV3TG9jYXRpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3ZpZXctbG9jYXRpb24nKTtcclxuICB9XHJcblxyXG4gIG9wZW5Qb3B1cChwbGFjZSwgbGluaykge1xyXG4gICAgdGhpcy5fdmlld0ltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl92aWV3SW1hZ2UuYWx0ID0gcGxhY2U7XHJcbiAgICB0aGlzLl92aWV3TG9jYXRpb24udGV4dENvbnRlbnQgPSBwbGFjZTtcclxuICAgIHN1cGVyLm9wZW5Qb3B1cCAoKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXAsaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXApO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcbiAgICB0aGlzLl9pbnB1dHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcyAoKSB7XHJcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgIHZhbHVlc1tlbGVtZW50Lm5hbWVdID0gZWxlbWVudC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzICgpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMuX2dldElucHV0VmFsdWVzKCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodmFsdWVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3B1cCAoKSB7XHJcbiAgICBzdXBlci5jbG9zZVBvcHVwICgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCAoKTtcclxuICB9XHJcblxyXG4gIHNob3dMb2FkaW5nIChsb2FkaW5nKSB7XHJcbiAgICBpZiAobG9hZGluZykge1xyXG4gICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfdHlwZV9hZGQnKSkge1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0LfQtNCw0YLRjCc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC40YLRjCc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cCxoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cCk7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICB9XHJcblxyXG4gIG9wZW5Qb3B1cChlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcclxuICAgIHN1cGVyLm9wZW5Qb3B1cCgpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMgKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdChhY3Rpb24pIHtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGFjdGlvbjtcclxufVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRhdGEubmFtZSk7XHJcbiAgICB0aGlzLl9qb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRhdGEuam9iKTtcclxuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5hdmF0YXIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8gKCkge1xyXG4gICAgdGhpcy5faW5mbyA9IHtcclxuICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgam9iOiB0aGlzLl9qb2IudGV4dENvbnRlbnRcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl9pbmZvO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8gKG5ld0luZm8pIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBuZXdJbmZvLm5hbWU7XHJcbiAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBuZXdJbmZvLmpvYiB8fCBuZXdJbmZvLmFib3V0O1xyXG4gICAgdGhpcy5faWQgPSBuZXdJbmZvLl9pZDtcclxuICAgIHRoaXMuX2F2YXRhci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7bmV3SW5mby5hdmF0YXJ9KWA7XHJcbiAgfVxyXG5cclxuLyogIHNldEF2YXRhciAoZGF0YSkge1xyXG4gICAgdGhpcy5fYXZhdGFyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHtkYXRhLmF2YXRhcn0pYDtcclxuICB9Ki9cclxufSIsImltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgJy4vaW5kZXguY3NzJztcclxuXHJcbmNvbnN0IHNlbGVjdG9yc0xpc3QgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxyXG4gIGVycm9yQWN0aXZlQ2xhc3M6ICdwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlJyxcclxuICBlcnJvclR5cGVUZW1wbGF0ZTogJy5wb3B1cF9faW5wdXQtZXJyb3JfdHlwZV8nXHJcbn1cclxuXHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX25hbWUnKTtcclxuY29uc3QgcHJvZmlsZUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9qb2InKTtcclxuY29uc3QgYnV0dG9uQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbl90eXBlX2FkZCcpO1xyXG5jb25zdCBidXR0b25FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbl90eXBlX2VkaXQnKTtcclxuY29uc3QgYnV0dG9uQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbl90eXBlX2VkaXQtYXZhdGFyJyk7XHJcbmNvbnN0IHBvcHVwQWRkU2VsZWN0b3IgPSAnLnBvcHVwX3R5cGVfYWRkJztcclxuY29uc3QgcG9wdXBFZGl0U2VsZWN0b3IgPSAnLnBvcHVwX3R5cGVfZWRpdCc7XHJcbmNvbnN0IHBvcHVwQXZhdGFyU2VsZWN0b3IgPSAnLnBvcHVwX3R5cGVfYXZhdGFyJztcclxuY29uc3QgcG9wdXBWaWV3U2VsZWN0b3IgPSAnLnBvcHVwX3R5cGVfdmlld2VyJztcclxuY29uc3QgcG9wdXBDb25maXJtYXRpb25TZWxlY3RvciA9ICcucG9wdXBfdHlwZV9jb25maXJtJztcclxuY29uc3QgY2FyZHNDb250YWluZXIgPSAnLmNhcmRzJztcclxuY29uc3QgY2FyZFRlbXBsYXRlU2VsZWN0b3IgPSAnI2NhcmRzX19lbGVtZW50JztcclxuXHJcblxyXG5jb25zdCBmb3JtQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX3R5cGVfYWRkJyk7XHJcbmNvbnN0IGZvcm1FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX3R5cGVfZWRpdCcpO1xyXG5jb25zdCBmb3JtQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX3R5cGVfYXZhdGFyJyk7XHJcblxyXG5jb25zdCBwcm9maWxlRGF0YSA9IHtcclxuICBuYW1lOiAnLnByb2ZpbGVfX25hbWUnLFxyXG4gIGpvYjogJy5wcm9maWxlX19qb2InLFxyXG4gIGF2YXRhcjogJy5wcm9maWxlX19hdmF0YXInXHJcbn1cclxuXHJcbi8q0K3QmtCX0JXQnNCf0JvQr9Cg0Ksg0JrQm9CQ0KHQodCe0JIqL1xyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00OCcsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogJzgzNjNlMGY1LTJjNjctNDM5NS1iZjIxLTRmNmZkZTQ3YjI2MicsXHJcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGNhcmRzID0gbmV3IFNlY3Rpb24oe1xyXG4gIHJlbmRlcmVyOihpdGVtKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkSW5pdCA9IG5ldyBDYXJkIChpdGVtLCBwcm9maWxlLl9pZCwgY2FyZFRlbXBsYXRlU2VsZWN0b3IsICgpID0+IGhhbmRlbFZpZXcgKGl0ZW0ubmFtZSwgaXRlbS5saW5rKSwgb3BlbkNvbmZpcm0sIGhhbmRlbExpa2UpO1xyXG4gICAgY2FyZHMucGxhY2VJdGVtIChjYXJkSW5pdC5jcmVhdGVDYXJkKCksIHRydWUpO1xyXG4gIH1cclxufSxjYXJkc0NvbnRhaW5lcik7XHJcblxyXG5jb25zdCBmb3JtQWRkVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2VsZWN0b3JzTGlzdCwgZm9ybUFkZCk7XHJcbmNvbnN0IGZvcm1FZGl0VmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2VsZWN0b3JzTGlzdCwgZm9ybUVkaXQpO1xyXG5jb25zdCBmb3JtQXZhdGFyVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2VsZWN0b3JzTGlzdCwgZm9ybUF2YXRhcik7XHJcblxyXG4vKiDQv9C+0L/QsNC/0YsgKi9cclxuY29uc3QgcG9wdXBWaWV3SXRlbSA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cFZpZXdTZWxlY3Rvcik7XHJcbmNvbnN0IHBvcHVwQ29uZmlybWF0aW9uSXRlbSA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24ocG9wdXBDb25maXJtYXRpb25TZWxlY3Rvcik7XHJcblxyXG5jb25zdCBwb3B1cEFkZEl0ZW0gPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEFkZFNlbGVjdG9yLCAodmFsdWVzKSA9PiB7XHJcbiAgcG9wdXBBZGRJdGVtLnNob3dMb2FkaW5nKHRydWUpO1xyXG4gIGFwaS5wb3N0TmV3Q2FyZCh2YWx1ZXMpXHJcbiAgICAudGhlbigoaW5mbykgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkTmV3ID0gbmV3IENhcmQoaW5mbywgcHJvZmlsZS5faWQsIGNhcmRUZW1wbGF0ZVNlbGVjdG9yLCAoKSA9PiBoYW5kZWxWaWV3IChpbmZvLnBsYWNlLCBpbmZvLmxpbmspLCBvcGVuQ29uZmlybSAsIGhhbmRlbExpa2UpO1xyXG4gICAgICBjYXJkcy5wbGFjZUl0ZW0oY2FyZE5ldy5jcmVhdGVDYXJkKCksIGZhbHNlKTtcclxuICAgICAgcG9wdXBBZGRJdGVtLmNsb3NlUG9wdXAoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHBvcHVwQWRkSXRlbS5zaG93TG9hZGluZyhmYWxzZSkpO1xyXG59KTtcclxuXHJcbmNvbnN0IHBvcHVwRWRpdEl0ZW0gPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEVkaXRTZWxlY3RvciwgKHZhbHVlcykgPT4ge1xyXG4gIHBvcHVwRWRpdEl0ZW0uc2hvd0xvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpLnNldFVzZXJJbmZvKHZhbHVlcylcclxuICAudGhlbigodXNlckluZm8pID0+IHtcclxuICAgIHBvcHVwRWRpdEl0ZW0uY2xvc2VQb3B1cCgpO1xyXG4gICAgcHJvZmlsZS5zZXRVc2VySW5mbyh1c2VySW5mbyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9KVxyXG4gIC5maW5hbGx5KCgpID0+IHBvcHVwRWRpdEl0ZW0uc2hvd0xvYWRpbmcoZmFsc2UpKTtcclxufSk7XHJcblxyXG5jb25zdCBwb3B1cEF2YXRhckl0ZW0gPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEF2YXRhclNlbGVjdG9yLCAodmFsdWVzKSA9PiB7XHJcbiAgcG9wdXBBdmF0YXJJdGVtLnNob3dMb2FkaW5nKHRydWUpO1xyXG4vLyAgYXBpLnNldEF2YXRhcih2YWx1ZXMpXHJcbiAgYXBpLnNldFVzZXJJbmZvKHZhbHVlcylcclxuICAudGhlbigodXNlckluZm8pID0+IHtcclxuICAgIHBvcHVwQXZhdGFySXRlbS5jbG9zZVBvcHVwKCk7XHJcbi8vICAgIHByb2ZpbGUuc2V0QXZhdGFyKHVzZXJJbmZvKTtcclxuICAgIHByb2ZpbGUuc2V0VXNlckluZm8odXNlckluZm8pO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSlcclxuICAuZmluYWxseSgoKSA9PiBwb3B1cEF2YXRhckl0ZW0uc2hvd0xvYWRpbmcoZmFsc2UpKTtcclxufSk7XHJcblxyXG4vKkluZm8qL1xyXG5jb25zdCBwcm9maWxlID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVEYXRhKTtcclxuXHJcbi8q0KTQo9Cd0JrQptCY0JgqL1xyXG4vKtCj0LLQtdGA0LXQvdGLPyovXHJcbmZ1bmN0aW9uIG9wZW5Db25maXJtIChjYXJkKSB7XHJcbiAgcG9wdXBDb25maXJtYXRpb25JdGVtLm9wZW5Qb3B1cCgpO1xyXG4gIHBvcHVwQ29uZmlybWF0aW9uSXRlbS5zZXRTdWJtaXQoKCkgPT4ge1xyXG4gICAgYXBpLmRlbGV0ZU93bmVyc0NhcmQoY2FyZC5pZClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGNhcmQucmVtb3ZlQ2FyZCgpO1xyXG4gICAgICAgIHBvcHVwQ29uZmlybWF0aW9uSXRlbS5jbG9zZVBvcHVwKCk7XHJcbiAgICAgIH0pICAgICAgICAgIFxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH0pXHJcbn1cclxuXHJcbi8qTGlrZSovXHJcbmZ1bmN0aW9uIGhhbmRlbExpa2UgKGNhcmQpIHtcclxuICBpZiAoY2FyZC5pc0xpa2VkKCkpIHtcclxuICAgIGFwaS51bmxpa2UoY2FyZC5pZClcclxuICAgIC50aGVuKChpdGVtKSA9PiB7XHJcbiAgICAgIGNhcmQudXBkYXRlQ291bnRlcihpdGVtLmxpa2VzLmxlbmd0aCk7XHJcbiAgICAgIGNhcmQubGlrZUNhcmQoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICB9IGVsc2Uge1xyXG4gICAgYXBpLmxpa2UoY2FyZC5pZClcclxuICAgIC50aGVuKChpdGVtKSA9PiB7XHJcbiAgICAgIGNhcmQudXBkYXRlQ291bnRlcihpdGVtLmxpa2VzLmxlbmd0aCk7XHJcbiAgICAgIGNhcmQubGlrZUNhcmQoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vKtCf0YDQvtGB0LzQvtGC0YAg0LrQsNGA0YLQuNC90LrQuCovXHJcbmZ1bmN0aW9uIGhhbmRlbFZpZXcgKGxpbmssIHBsYWNlKSB7XHJcbiAgcG9wdXBWaWV3SXRlbS5vcGVuUG9wdXAobGluaywgcGxhY2UpO1xyXG59XHJcblxyXG4vKtCU0JXQmdCh0KLQktCY0K8qL1xyXG4vKtCd0LDRh9Cw0LvRjNC90LDRjyDQuNC90YTQvtGA0LzQsNGG0LjRjyovXHJcblxyXG5Qcm9taXNlLmFsbChbXHJcbmFwaS5nZXRQcm9maWxlSW5mbygpLFxyXG5hcGkuZ2V0SW5pdGlhbENhcmRzKCldKSBcclxuLnRoZW4oKFt1c2VySW5mbywgY2FyZHNJbmZvXSk9PntcclxuICBwcm9maWxlLnNldFVzZXJJbmZvKHVzZXJJbmZvKTtcclxuLy8gIHByb2ZpbGUuc2V0QXZhdGFyKHVzZXJJbmZvKTtcclxuICBjYXJkcy5yZW5kZXJJdGVtcyAoY2FyZHNJbmZvKTtcclxufSkgXHJcbi5jYXRjaCgoZXJyKT0+e1xyXG4gIGNvbnNvbGUubG9nKGVycik7XHJcbn0pO1xyXG5cclxuLyrQktCw0LvQuNC00LDRhtC40Y8g0L7RgtC/0YDQsNCy0LrQuCDRhNC+0YDQvNGLKi9cclxuZm9ybUVkaXRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5mb3JtQWRkVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuZm9ybUF2YXRhclZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vKtCh0LvRg9GI0LDRgtC10LvQuCovXHJcbnBvcHVwVmlld0l0ZW0uc2V0RXZlbnRMaXN0ZW5lcnMgKCk7XHJcbnBvcHVwQWRkSXRlbS5zZXRFdmVudExpc3RlbmVycyAoKTtcclxucG9wdXBFZGl0SXRlbS5zZXRFdmVudExpc3RlbmVycyAoKTtcclxucG9wdXBBdmF0YXJJdGVtLnNldEV2ZW50TGlzdGVuZXJzICgpO1xyXG5wb3B1cENvbmZpcm1hdGlvbkl0ZW0uc2V0RXZlbnRMaXN0ZW5lcnMgKCk7XHJcblxyXG5idXR0b25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgY29uc3QgaW5mbyA9IHByb2ZpbGUuZ2V0VXNlckluZm8oKTtcclxuICBwcm9maWxlLnNldFVzZXJJbmZvKGluZm8pO1xyXG4gIHByb2ZpbGVOYW1lLnZhbHVlID0gaW5mby5uYW1lO1xyXG4gIHByb2ZpbGVKb2IudmFsdWUgPSBpbmZvLmpvYjtcclxuICBmb3JtRWRpdFZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICBwb3B1cEVkaXRJdGVtLm9wZW5Qb3B1cCgpO1xyXG59KTtcclxuXHJcbmJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gIGZvcm1BZGRWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgcG9wdXBBZGRJdGVtLm9wZW5Qb3B1cCgpO1xyXG59KTtcclxuXHJcbmJ1dHRvbkF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gIGZvcm1BdmF0YXJWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgcG9wdXBBdmF0YXJJdGVtLm9wZW5Qb3B1cCgpO1xyXG59KTsiXSwibmFtZXMiOlsiQXBpIiwib3B0aW9ucyIsInRoaXMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiX2NoZWNrIiwidmFsdWVzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYW1lIiwiYWJvdXQiLCJqb2IiLCJhdmF0YXIiLCJwbGFjZSIsImxpbmsiLCJjYXJkSWQiLCJDYXJkIiwiZGF0YSIsInVzZXJJZCIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kZWxWaWV3Iiwib3BlbkRlbGV0ZVBvcHVwIiwiaGFuZGVsTGlrZSIsIl9wbGFjZSIsIl9saW5rIiwiX2xpa2VzIiwibGlrZXMiLCJpZCIsIl9pZCIsIl9vd25lciIsIm93bmVyIiwiX3NlbGYiLCJfc2VsZWN0b3IiLCJfdGVtcGxhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiX2VsZW1lbnQiLCJjbG9uZU5vZGUiLCJfbGlrZSIsIl9jb3VudGVyIiwiX2RlbCIsIl92aWV3IiwiX2hhbmRlbFZpZXciLCJfb3BlbkRlbGV0ZVBvcHVwIiwiX2hhbmRlbExpa2UiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ0ZXh0Q29udGVudCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNyYyIsImFsdCIsImxlbmd0aCIsImFkZCIsInNvbWUiLCJsaWtlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZWxlbWVudCIsImlucHV0RWxlbWVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JBY3RpdmVDbGFzcyIsImVycm9yQWN0aXZlQ2xhc3MiLCJfZXJyb3JUeXBlVGVtcGxhdGUiLCJlcnJvclR5cGVUZW1wbGF0ZSIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZXJyb3JNZXNzYWdlIiwiX2Vycm9yRWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfYnV0dG9uRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImZvckVhY2giLCJfY2hlY2tWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIlNlY3Rpb24iLCJ0YXJnZXRTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX3RhcmdldCIsIml0ZW1zIiwiaXRlbSIsImlzSW5pbnRpYWwiLCJhcHBlbmQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIl9idXR0b24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwiY2xvc2VQb3B1cCIsInRhcmdldCIsIlBvcHVwV2l0aEltYWdlIiwicG9wdXAiLCJfdmlld0ltYWdlIiwiX3ZpZXdMb2NhdGlvbiIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybSIsIl9pbnB1dHMiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJsb2FkaW5nIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiX2hhbmRsZVN1Ym1pdCIsImFjdGlvbiIsIlVzZXJJbmZvIiwiX25hbWUiLCJfam9iIiwiX2F2YXRhciIsIl9pbmZvIiwibmV3SW5mbyIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwic2VsZWN0b3JzTGlzdCIsInByb2ZpbGVOYW1lIiwicHJvZmlsZUpvYiIsImJ1dHRvbkFkZCIsImJ1dHRvbkVkaXQiLCJidXR0b25BdmF0YXIiLCJjYXJkVGVtcGxhdGVTZWxlY3RvciIsImZvcm1BZGQiLCJmb3JtRWRpdCIsImZvcm1BdmF0YXIiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiY2FyZHMiLCJjYXJkSW5pdCIsInByb2ZpbGUiLCJvcGVuQ29uZmlybSIsInBsYWNlSXRlbSIsImNyZWF0ZUNhcmQiLCJmb3JtQWRkVmFsaWRhdG9yIiwiZm9ybUVkaXRWYWxpZGF0b3IiLCJmb3JtQXZhdGFyVmFsaWRhdG9yIiwicG9wdXBWaWV3SXRlbSIsInBvcHVwQ29uZmlybWF0aW9uSXRlbSIsInBvcHVwQWRkSXRlbSIsInNob3dMb2FkaW5nIiwicG9zdE5ld0NhcmQiLCJpbmZvIiwiY2FyZE5ldyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZpbmFsbHkiLCJwb3B1cEVkaXRJdGVtIiwic2V0VXNlckluZm8iLCJ1c2VySW5mbyIsInBvcHVwQXZhdGFySXRlbSIsImNhcmQiLCJvcGVuUG9wdXAiLCJzZXRTdWJtaXQiLCJkZWxldGVPd25lcnNDYXJkIiwicmVtb3ZlQ2FyZCIsImlzTGlrZWQiLCJ1bmxpa2UiLCJ1cGRhdGVDb3VudGVyIiwibGlrZUNhcmQiLCJhbGwiLCJnZXRQcm9maWxlSW5mbyIsImdldEluaXRpYWxDYXJkcyIsImNhcmRzSW5mbyIsInJlbmRlckl0ZW1zIiwiZW5hYmxlVmFsaWRhdGlvbiIsInNldEV2ZW50TGlzdGVuZXJzIiwiZ2V0VXNlckluZm8iLCJyZXNldFZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9