(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._headers=e.headers}var n,r;return n=t,(r=[{key:"_check",value:function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status))}},{key:"getProfileInfo",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then((function(t){return e._check(t)}))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then((function(t){return e._check(t)}))}},{key:"setUserInfo",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.job})}).then((function(e){return t._check(e)}))}},{key:"setAvatar",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then((function(e){return t._check(e)}))}},{key:"postNewCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.place,link:e.link})}).then((function(e){return t._check(e)}))}},{key:"deleteOwnersCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._check(e)}))}},{key:"like",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then((function(e){return t._check(e)}))}},{key:"unlike",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._check(e)}))}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._place=t.place||t.name,this._link=t.link,this._likes=t.likes||[],this._id=t._id,this._owner=t.owner,this._self="c1e8bf3d88660c8a2b4bf8a0",this._selector=n,this._template=document.querySelector(n).content,this._element=this._template.querySelector(".cards__element").cloneNode(!0),this._like=this._element.querySelector(".cards__like"),this._counter=this._element.querySelector(".cards__likes-counter"),this._del=this._element.querySelector(".cards__delete"),this._view=this._element.querySelector(".cards__image"),this._handelView=r,this._openDeletePopup=o,this._handelLike=i}var t,r;return t=e,(r=[{key:"likeCard",value:function(){this._like.classList.toggle("cards__like_state_active")}},{key:"updateCounter",value:function(e){this._counter.textContent=e}},{key:"_setEventListeners",value:function(){var e=this;this._view.addEventListener("click",(function(){return e._handelView(e._place,e._link)})),this._like.addEventListener("click",(function(){return e._handelLike(e._id,e._element)})),this._del.addEventListener("click",(function(){return e._openDeletePopup(e._element)}))}},{key:"createCard",value:function(){var e=this;return this._view.src=this._link,this._view.alt=this._place,this._element.querySelector(".cards__place").textContent=this._place,this._counter.textContent=this._likes.length,this._owner._id!==this._self&&this._del.classList.add("cards__delete_hidden"),this._likes.some((function(t){return t._id===e._self}))&&this._like.classList.add("cards__like_state_active"),this._setEventListeners(),this._element}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){var r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(e){e.validity.valid?i._hideInputError(e):i._showInputError(e,e.validationMessage)},(r="_checkValidity")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inputErrorClass=t.inputErrorClass,this._errorActiveClass=t.errorActiveClass,this._errorTypeTemplate=t.errorTypeTemplate,this._element=n,this._inputList=Array.from(this._element.querySelectorAll(this._inputSelector))}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){this._errorElement=this._element.querySelector("".concat(this._errorTypeTemplate).concat(e.id)),e.classList.add(this._inputErrorClass),this._errorElement.textContent=t,this._errorElement.classList.add(this._errorActiveClass)}},{key:"_hideInputError",value:function(e){this._errorElement=this._element.querySelector("".concat(this._errorTypeTemplate).concat(e.id)),e.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorActiveClass),this._errorElement.textContent=""}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._buttonElement.setAttribute("disabled",!0):this._buttonElement.removeAttribute("disabled")}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkValidity(t),e._toggleButtonState()}))}))}},{key:"inactivateSubmitButton",value:function(){this._element.querySelector(".popup__button").setAttribute("disabled",!0)}},{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"enableValidation",value:function(){this._buttonElement=this._element.querySelector(this._submitButtonSelector),this._toggleButtonState(),this._setEventListeners()}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._target=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"placeItem",value:function(e,t){t?this._target.append(e):this._target.prepend(e)}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this._button=this._popup.querySelector(".popup__button")}var t,n;return t=e,(n=[{key:"openPopup",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"closePopup",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.closePopup()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){(t.target.classList.contains("popup__close-x")||t.target.classList.contains("popup__overlay"))&&e.closePopup()}))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=h(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},f.apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function y(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(o){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e))._viewImage=t._popup.querySelector(".popup__view-image"),t._viewLocation=t._popup.querySelector(".popup__view-location"),t}return t=c,(n=[{key:"openPopup",value:function(e,t){this._viewImage.src=t,this._viewImage.alt=e,this._viewLocation.textContent=e,f(d(c.prototype),"openPopup",this).call(this)}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(s);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},w.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function E(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,e))._handleFormSubmit=t,n._form=n._popup.querySelector(".popup__form"),n._inputs=Array.from(n._form.querySelectorAll(".popup__input")),n}return t=c,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputs.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;w(S(c.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault();var n=e._getInputValues();e._handleFormSubmit(n),e.closePopup()}))}},{key:"closePopup",value:function(){w(S(c.prototype),"closePopup",this).call(this),this._form.reset()}},{key:"showLoading",value:function(e){this._button.textContent=e?"Сохранение...":"Сохранить"}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(s);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=C(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},L.apply(this,arguments)}function C(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function T(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,e))._handleFormSubmit=t,n._form=n._popup.querySelector(".popup__form"),n}return t=c,(n=[{key:"openPopup",value:function(e){this._element=e,L(q(c.prototype),"openPopup",this).call(this)}},{key:"setEventListeners",value:function(){var e=this;L(q(c.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmit(),e.closePopup()}))}},{key:"setSubmit",value:function(e){this._handleSubmit=e}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(s);function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t.name),this._job=document.querySelector(t.job),this._avatar=document.querySelector(t.avatar)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._info={name:this._name.textContent,job:this._job.textContent},this._info}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._job.textContent=e.job||e.about,this._id=e._id}},{key:"setAvatar",value:function(e){this._avatar.style.backgroundImage="url(".concat(e.avatar,")")}}])&&U(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),x={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inputErrorClass:"popup__input_type_error",errorActiveClass:"popup__input-error_active",errorTypeTemplate:".popup__input-error_type_"},B=document.querySelector(".profile__button_type_add"),V=document.querySelector(".profile__button_type_edit"),D=document.querySelector(".profile__button_type_edit-avatar"),N="#cards__element",F=document.querySelector(".popup__form_type_add"),J=document.querySelector(".popup__form_type_edit"),G=document.querySelector(".popup__form_type_avatar"),H=new t({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-48",headers:{authorization:"8363e0f5-2c67-4395-bf21-4f6fde47b262","Content-Type":"application/json"}}),z=new u({renderer:function(e){var t=re(e,N,(function(){return oe(e.name,e.link)}),(function(){return te(e,t)}),(function(){return ne(e,t)}));z.placeItem(t,!0)}},".cards"),M=new i(x,F),K=new i(x,J),Q=new i(x,G),W=new v(".popup_type_viewer"),X=new R(".popup_type_confirm"),Y=new O(".popup_type_add",(function(e){Y.showLoading(!0),H.postNewCard(e).then((function(e){var t=re(e,N,(function(){return oe(e.place,e.link)}),(function(){return te(e,t)}),(function(){return ne(e,t)}));z.placeItem(t,!1)})).catch((function(e){console.log(e)})).finally((function(){return Y.showLoading(!1)}))})),Z=new O(".popup_type_edit",(function(e){Z.showLoading(!0),H.setUserInfo(e).then((function(e){ee.setUserInfo(e)})).catch((function(e){console.log(e)})).finally((function(){return Z.showLoading(!1)}))})),$=new O(".popup_type_avatar",(function(e){$.showLoading(!0),H.setAvatar(e).then((function(e){ee.setAvatar(e)})).catch((function(e){console.log(e)})).finally((function(){return $.showLoading(!1)}))})),ee=new A({name:".profile__name",job:".profile__job",avatar:".profile__avatar"});function te(e,t){X.openPopup(),X.setSubmit((function(){H.deleteOwnersCard(e._id).then((function(){t.remove(),t=null,X.closePopup()})).catch((function(e){console.log(e)}))}))}function ne(e,t){t.querySelector(".cards__like").classList.contains("cards__like_state_active")?H.unlike(e._id).then((function(e){t.cardItem.updateCounter(e.likes.length)})).catch((function(e){console.log(e)})):H.like(e._id).then((function(e){t.cardItem.updateCounter(e.likes.length)})).catch((function(e){console.log(e)})),t.querySelector(".cards__like").classList.toggle("cards__like_state_active")}function re(e,t,n,o,i){var c=new r(e,t,n,o,i),u=c.createCard();return u.cardItem=c,u}function oe(e,t){W.openPopup(e,t)}H.getProfileInfo().then((function(e){ee.setUserInfo(e),ee.setAvatar(e)})).catch((function(e){console.log(e)})),H.getInitialCards().then((function(e){z.renderItems(e)})).catch((function(e){console.log(e)})),K.enableValidation(),M.enableValidation(),Q.enableValidation(),W.setEventListeners(),Y.setEventListeners(),Z.setEventListeners(),$.setEventListeners(),X.setEventListeners(),V.addEventListener("click",(function(){var e=document.querySelector(".popup__input_type_name"),t=document.querySelector(".popup__input_type_job"),n=ee.getUserInfo();ee.setUserInfo(n),e.value=n.name,t.value=n.job,K.resetValidation(),Z.openPopup()})),B.addEventListener("click",(function(){M.resetValidation(),Y.openPopup()})),D.addEventListener("click",(function(){Q.resetValidation(),$.openPopup()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiNkxBQXFCQSxFQUFBQSxXQUNuQixXQUFZQyxJLDRGQUFTLFNBQ25CQyxLQUFLQyxTQUFXRixFQUFRRyxRQUN4QkYsS0FBS0csU0FBV0osRUFBUUssT0FDekIsQywyQ0FFRCxTQUFPQyxHQUNMLE9BQUlBLEVBQUlDLEdBQ0NELEVBQUlFLE9BRU5DLFFBQVFDLE9BQVIsaUJBQXlCSixFQUFJSyxRQUNyQyxHLDRCQUVELFdBQWlCLFdBQ2YsT0FBT0MsTUFBTSxHQUFELE9BQUlYLEtBQUtDLFNBQVQsYUFBOEIsQ0FDeENXLE9BQVEsTUFDUlIsUUFBU0osS0FBS0csV0FFZlUsTUFBSyxTQUFBUixHQUFHLE9BQUksRUFBS1MsT0FBT1QsRUFBaEIsR0FDVixHLDZCQUVELFdBQWtCLFdBQ2hCLE9BQU9NLE1BQU0sR0FBRCxPQUFJWCxLQUFLQyxTQUFULFVBQTJCLENBQ3JDVyxPQUFRLE1BQ1JSLFFBQVNKLEtBQUtHLFdBRWZVLE1BQUssU0FBQVIsR0FBRyxPQUFJLEVBQUtTLE9BQU9ULEVBQWhCLEdBQ1YsRyx5QkFFRCxTQUFZVSxHQUFRLFdBQ2xCLE9BQU9KLE1BQU0sR0FBRCxPQUFJWCxLQUFLQyxTQUFULGFBQThCLENBQ3hDVyxPQUFRLFFBQ1JSLFFBQVNKLEtBQUtHLFNBQ2RhLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJDLEtBQU1KLEVBQU9JLEtBQ2JDLE1BQU9MLEVBQU9NLFFBR2pCUixNQUFLLFNBQUFSLEdBQUcsT0FBSSxFQUFLUyxPQUFPVCxFQUFoQixHQUNWLEcsdUJBRUQsU0FBVVUsR0FBUSxXQUNoQixPQUFPSixNQUFNLEdBQUQsT0FBSVgsS0FBS0MsU0FBVCxvQkFBcUMsQ0FDL0NXLE9BQVEsUUFDUlIsUUFBU0osS0FBS0csU0FDZGEsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQkksT0FBUVAsRUFBT08sV0FHbEJULE1BQUssU0FBQVIsR0FBRyxPQUFJLEVBQUtTLE9BQU9ULEVBQWhCLEdBQ1YsRyx5QkFFRCxTQUFZVSxHQUFRLFdBQ2xCLE9BQU9KLE1BQU0sR0FBRCxPQUFJWCxLQUFLQyxTQUFULFVBQTJCLENBQ3JDVyxPQUFRLE9BQ1JSLFFBQVNKLEtBQUtHLFNBQ2RhLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJDLEtBQU1KLEVBQU9RLE1BQ2JDLEtBQU1ULEVBQU9TLFNBR2hCWCxNQUFLLFNBQUFSLEdBQUcsT0FBSSxFQUFLUyxPQUFPVCxFQUFoQixHQUNWLEcsOEJBRUQsU0FBaUJvQixHQUFRLFdBQ3JCLE9BQU9kLE1BQU0sR0FBRCxPQUFJWCxLQUFLQyxTQUFULGtCQUEyQndCLEdBQVUsQ0FDL0NiLE9BQVEsU0FDUlIsUUFBU0osS0FBS0csV0FFZlUsTUFBSyxTQUFBUixHQUFHLE9BQUksRUFBS1MsT0FBT1QsRUFBaEIsR0FDVixHLGtCQUVILFNBQUtvQixHQUFRLFdBQ1gsT0FBT2QsTUFBTSxHQUFELE9BQUlYLEtBQUtDLFNBQVQsd0JBQWlDd0IsR0FBVSxDQUNyRGIsT0FBUSxNQUNSUixRQUFTSixLQUFLRyxXQUVmVSxNQUFLLFNBQUFSLEdBQUcsT0FBSSxFQUFLUyxPQUFPVCxFQUFoQixHQUNWLEcsb0JBRUQsU0FBT29CLEdBQVEsV0FDYixPQUFPZCxNQUFNLEdBQUQsT0FBSVgsS0FBS0MsU0FBVCx3QkFBaUN3QixHQUFVLENBQ3JEYixPQUFRLFNBQ1JSLFFBQVNKLEtBQUtHLFdBRWZVLE1BQUssU0FBQVIsR0FBRyxPQUFJLEVBQUtTLE9BQU9ULEVBQWhCLEdBQ1YsTSxzRUF0RmtCUCxHLDBLQ0NBNEIsRUFBQUEsV0FDbkIsV0FBWUMsRUFBTUMsRUFBa0JDLEVBQVlDLEVBQWlCQyxJLDRGQUFZLFNBQzNFL0IsS0FBS2dDLE9BQVNMLEVBQUtKLE9BQVNJLEVBQUtSLEtBQ2pDbkIsS0FBS2lDLE1BQVFOLEVBQUtILEtBQ2xCeEIsS0FBS2tDLE9BQVNQLEVBQUtRLE9BQVMsR0FDNUJuQyxLQUFLb0MsSUFBTVQsRUFBS1MsSUFDaEJwQyxLQUFLcUMsT0FBU1YsRUFBS1csTUFDbkJ0QyxLQUFLdUMsTUFBUSwyQkFDYnZDLEtBQUt3QyxVQUFZWixFQUNqQjVCLEtBQUt5QyxVQUFZQyxTQUFTQyxjQUFjZixHQUFrQmdCLFFBQzFENUMsS0FBSzZDLFNBQVc3QyxLQUFLeUMsVUFBVUUsY0FBYyxtQkFBbUJHLFdBQVUsR0FDMUU5QyxLQUFLK0MsTUFBUS9DLEtBQUs2QyxTQUFTRixjQUFjLGdCQUN6QzNDLEtBQUtnRCxTQUFXaEQsS0FBSzZDLFNBQVNGLGNBQWMseUJBQzVDM0MsS0FBS2lELEtBQU9qRCxLQUFLNkMsU0FBU0YsY0FBYyxrQkFDeEMzQyxLQUFLa0QsTUFBUWxELEtBQUs2QyxTQUFTRixjQUFjLGlCQUN6QzNDLEtBQUttRCxZQUFjdEIsRUFDbkI3QixLQUFLb0QsaUJBQW1CdEIsRUFDeEI5QixLQUFLcUQsWUFBY3RCLENBQ3BCLEMsNkNBRUQsV0FDRS9CLEtBQUsrQyxNQUFNTyxVQUFVQyxPQUFPLDJCQUM3QixHLDJCQUVELFNBQWVDLEdBQ2J4RCxLQUFLZ0QsU0FBU1MsWUFBY0QsQ0FDN0IsRyxnQ0FFRCxXQUFxQixXQUNuQnhELEtBQUtrRCxNQUFNUSxpQkFBaUIsU0FBUyxrQkFBTSxFQUFLUCxZQUFZLEVBQUtuQixPQUFRLEVBQUtDLE1BQXpDLElBQ3JDakMsS0FBSytDLE1BQU1XLGlCQUFpQixTQUFTLGtCQUFNLEVBQUtMLFlBQVksRUFBS2pCLElBQUksRUFBS1MsU0FBckMsSUFDckM3QyxLQUFLaUQsS0FBS1MsaUJBQWlCLFNBQVMsa0JBQU0sRUFBS04saUJBQWlCLEVBQUtQLFNBQWpDLEdBQ3JDLEcsd0JBRUQsV0FBYyxXQVlaLE9BWEE3QyxLQUFLa0QsTUFBTVMsSUFBTTNELEtBQUtpQyxNQUN0QmpDLEtBQUtrRCxNQUFNVSxJQUFNNUQsS0FBS2dDLE9BQ3RCaEMsS0FBSzZDLFNBQVNGLGNBQWMsaUJBQWlCYyxZQUFjekQsS0FBS2dDLE9BQ2hFaEMsS0FBS2dELFNBQVNTLFlBQWN6RCxLQUFLa0MsT0FBTzJCLE9BQ3BDN0QsS0FBS3FDLE9BQU9ELE1BQVFwQyxLQUFLdUMsT0FDM0J2QyxLQUFLaUQsS0FBS0ssVUFBVVEsSUFBSSx3QkFFdEI5RCxLQUFLa0MsT0FBTzZCLE1BQUssU0FBQ0MsR0FBRCxPQUFVQSxFQUFLNUIsTUFBUSxFQUFLRyxLQUE1QixLQUNuQnZDLEtBQUsrQyxNQUFNTyxVQUFVUSxJQUFJLDRCQUUzQjlELEtBQUtpRSxxQkFDRWpFLEtBQUs2QyxRQUNiLE0sc0VBL0NrQm5CLEcsMEtDREF3QyxFQUFBQSxXQUNuQixXQUFZQyxFQUFVQyxHQUFTLEksSUFBQSxRLDRGQUFBLFMsRUEyQmhCLFNBQUNDLEdBQ1hBLEVBQWFDLFNBQVNDLE1BR3pCLEVBQUtDLGdCQUFnQkgsR0FGckIsRUFBS0ksZ0JBQWdCSixFQUFjQSxFQUFhSyxrQkFJbkQsRyxFQWpDZ0MseUIsc0JBQUEsSyx1REFBQSxLLEtBQzdCMUUsS0FBSzJFLGNBQWdCUixFQUFTUyxhQUM5QjVFLEtBQUs2RSxlQUFpQlYsRUFBU1csY0FDL0I5RSxLQUFLK0Usc0JBQXdCWixFQUFTYSxxQkFDdENoRixLQUFLaUYsaUJBQW1CZCxFQUFTZSxnQkFDakNsRixLQUFLbUYsa0JBQW9CaEIsRUFBU2lCLGlCQUNsQ3BGLEtBQUtxRixtQkFBcUJsQixFQUFTbUIsa0JBQ25DdEYsS0FBSzZDLFNBQVd1QixFQUNoQnBFLEtBQUt1RixXQUFhQyxNQUFNQyxLQUFLekYsS0FBSzZDLFNBQVM2QyxpQkFBaUIxRixLQUFLNkUsZ0JBQ2xFLEMsb0RBR0gsU0FBaUJSLEVBQWNzQixHQUM3QjNGLEtBQUs0RixjQUFnQjVGLEtBQUs2QyxTQUFTRixjQUFkLFVBQStCM0MsS0FBS3FGLG9CQUFwQyxPQUF5RGhCLEVBQWF3QixLQUMzRnhCLEVBQWFmLFVBQVVRLElBQUk5RCxLQUFLaUYsa0JBQ2hDakYsS0FBSzRGLGNBQWNuQyxZQUFja0MsRUFDakMzRixLQUFLNEYsY0FBY3RDLFVBQVVRLElBQUk5RCxLQUFLbUYsa0JBQ3ZDLEcsNkJBRUQsU0FBaUJkLEdBQ2ZyRSxLQUFLNEYsY0FBZ0I1RixLQUFLNkMsU0FBU0YsY0FBZCxVQUErQjNDLEtBQUtxRixvQkFBcEMsT0FBeURoQixFQUFhd0IsS0FDM0Z4QixFQUFhZixVQUFVd0MsT0FBTzlGLEtBQUtpRixrQkFDbkNqRixLQUFLNEYsY0FBY3RDLFVBQVV3QyxPQUFPOUYsS0FBS21GLG1CQUN6Q25GLEtBQUs0RixjQUFjbkMsWUFBYyxFQUNsQyxHLDhCQVlELFdBQ0UsT0FBT3pELEtBQUt1RixXQUFXeEIsTUFBSyxTQUFDTSxHQUMzQixPQUFRQSxFQUFhQyxTQUFTQyxLQUMvQixHQUNGLEcsZ0NBR0QsV0FDTXZFLEtBQUsrRixtQkFDUC9GLEtBQUtnRyxlQUFlQyxhQUFhLFlBQVksR0FFN0NqRyxLQUFLZ0csZUFBZUUsZ0JBQWdCLFdBRXZDLEcsZ0NBR0QsV0FBc0IsV0FDcEJsRyxLQUFLdUYsV0FBV1ksU0FBUyxTQUFBOUIsR0FDdkJBLEVBQWFYLGlCQUFpQixTQUFTLFdBQ3JDLEVBQUswQyxlQUFnQi9CLEdBQ3JCLEVBQUtnQyxvQkFDTixHQUNGLEdBQ0YsRyxvQ0FHRCxXQUN1QnJHLEtBQUs2QyxTQUFTRixjQUFjLGtCQUNwQ3NELGFBQWEsWUFBWSxFQUN2QyxHLDZCQUdELFdBQWtCLFdBQ2hCakcsS0FBS3FHLHFCQUNMckcsS0FBS3VGLFdBQVdZLFNBQVEsU0FBQzlCLEdBQ3ZCLEVBQUtHLGdCQUFnQkgsRUFDdEIsR0FDRixHLDhCQUdELFdBQ0VyRSxLQUFLZ0csZUFBaUJoRyxLQUFLNkMsU0FBU0YsY0FBYzNDLEtBQUsrRSx1QkFDdkQvRSxLQUFLcUcscUJBQ0xyRyxLQUFLaUUsb0JBQ04sTSxzRUFqRm9CQyxHLDBLQ0FBb0MsRUFBQUEsV0FDbkIsYUFBeUJDLEdBQWdCLElBQTNCQyxFQUEyQixFQUEzQkEsVSw0RkFBMkIsU0FFdkN4RyxLQUFLeUcsVUFBWUQsRUFDakJ4RyxLQUFLMEcsUUFBVWhFLFNBQVNDLGNBQWM0RCxFQUN2QyxDLGdEQUVELFNBQWFJLEdBQU8sV0FDbEJBLEVBQU1SLFNBQVEsU0FBQ1MsR0FDYixFQUFLSCxVQUFVRyxFQUNoQixHQUNGLEcsdUJBRUQsU0FBV3hDLEVBQVN5QyxHQUNkQSxFQUNGN0csS0FBSzBHLFFBQVFJLE9BQU8xQyxHQUVwQnBFLEtBQUswRyxRQUFRSyxRQUFRM0MsRUFFeEIsTSxzRUFuQmtCa0MsRywwS0NBQVUsRUFBQUEsV0FDbkIsV0FBWUMsSSw0RkFBZSxTQUN6QmpILEtBQUtrSCxPQUFTeEUsU0FBU0MsY0FBY3NFLEdBQ3JDakgsS0FBS21ILGdCQUFrQm5ILEtBQUttSCxnQkFBZ0JDLEtBQUtwSCxNQUNqREEsS0FBS3FILFFBQVVySCxLQUFLa0gsT0FBT3ZFLGNBQWMsaUJBQzFDLEMsOENBRUQsV0FDRTNDLEtBQUtrSCxPQUFPNUQsVUFBVVEsSUFBSSxnQkFDMUJwQixTQUFTZ0IsaUJBQWlCLFVBQVcxRCxLQUFLbUgsZ0JBQzNDLEcsd0JBRUQsV0FDRW5ILEtBQUtrSCxPQUFPNUQsVUFBVXdDLE9BQU8sZ0JBQzdCcEQsU0FBUzRFLG9CQUFvQixVQUFXdEgsS0FBS21ILGdCQUM5QyxHLDZCQUVELFNBQWdCSSxHQUNFLFdBQVpBLEVBQUlDLEtBQ054SCxLQUFLeUgsWUFFUixHLCtCQUVELFdBQW9CLFdBQ2xCekgsS0FBS2tILE9BQU94RCxpQkFBaUIsU0FBUyxTQUFDNkQsSUFDaENBLEVBQUlHLE9BQU9wRSxVQUFVcUUsU0FBUyxtQkFBcUJKLEVBQUlHLE9BQU9wRSxVQUFVcUUsU0FBUyxvQkFDcEYsRUFBS0YsWUFFUixHQUNGLE0sc0VBN0JrQlQsRyx5d0NDRUFZLEVBQUFBLFNBQUFBLEksNnJCQUNuQixXQUFZQyxHQUFPLGEsNEZBQUEsVUFBQyxjQUFNQSxJQUNuQkMsV0FBYSxFQUFLWixPQUFPdkUsY0FBYyxzQkFDNUMsRUFBS29GLGNBQWdCLEVBQUtiLE9BQU92RSxjQUFjLHlCQUY5QixDQUdsQixDLHNDQUVELFNBQVVwQixFQUFPQyxHQUNmeEIsS0FBSzhILFdBQVduRSxJQUFNbkMsRUFDdEJ4QixLQUFLOEgsV0FBV2xFLElBQU1yQyxFQUN0QnZCLEtBQUsrSCxjQUFjdEUsWUFBY2xDLEVBQ2pDLDZDQUNELE0sc0VBWGtCcUcsQ0FBdUJaLEcseXdDQ0F2QmdCLEVBQUFBLFNBQUFBLEksNnJCQUNuQixXQUFZSCxFQUFNSSxHQUFrQixhLDRGQUFBLFVBQ2xDLGNBQU1KLElBQ0RLLGtCQUFvQkQsRUFDekIsRUFBS0UsTUFBUSxFQUFLakIsT0FBT3ZFLGNBQWMsZ0JBQ3ZDLEVBQUt5RixRQUFVNUMsTUFBTUMsS0FBSyxFQUFLMEMsTUFBTXpDLGlCQUFpQixrQkFKcEIsQ0FLbkMsQyw0Q0FFRCxXQUNFLElBQU0zRSxFQUFTLENBQUMsRUFJaEIsT0FIQWYsS0FBS29JLFFBQVFqQyxTQUFRLFNBQUMvQixHQUNwQnJELEVBQU9xRCxFQUFRakQsTUFBUWlELEVBQVFpRSxLQUNoQyxJQUNNdEgsQ0FDUixHLCtCQUVELFdBQXFCLFdBQ25CLHNEQUNBZixLQUFLbUksTUFBTXpFLGlCQUFpQixVQUFVLFNBQUM2RCxHQUNyQ0EsRUFBSWUsaUJBQ0osSUFBTXZILEVBQVMsRUFBS3dILGtCQUNwQixFQUFLTCxrQkFBa0JuSCxHQUN2QixFQUFLMEcsWUFDTixHQUNGLEcsd0JBRUQsV0FDRSwrQ0FDQXpILEtBQUttSSxNQUFNSyxPQUNaLEcseUJBRUQsU0FBYUMsR0FFVHpJLEtBQUtxSCxRQUFRNUQsWUFEWGdGLEVBQ3lCLGdCQUVGLFdBRTVCLE0sc0VBckNrQlQsQ0FBc0JoQixHLHl3Q0NBdEIwQixFQUFBQSxTQUFBQSxJLDZyQkFDbkIsV0FBWWIsRUFBTUksR0FBa0IsYSw0RkFBQSxVQUNsQyxjQUFNSixJQUNESyxrQkFBb0JELEVBQ3pCLEVBQUtFLE1BQVEsRUFBS2pCLE9BQU92RSxjQUFjLGdCQUhMLENBSW5DLEMsc0NBRUQsU0FBVXlCLEdBQ1JwRSxLQUFLNkMsU0FBV3VCLEVBQ2hCLDZDQUNELEcsK0JBRUQsV0FBcUIsV0FDbkIsc0RBQ0FwRSxLQUFLbUksTUFBTXpFLGlCQUFpQixVQUFVLFNBQUM2RCxHQUNyQ0EsRUFBSWUsaUJBQ0osRUFBS0ssZ0JBQ0wsRUFBS2xCLFlBQ04sR0FDRixHLHVCQUVELFNBQVVtQixHQUNSNUksS0FBSzJJLGNBQWdCQyxDQUN4QixNLHNFQXZCb0JGLENBQThCMUIsRywwS0NGOUI2QixFQUFBQSxXQUNuQixXQUFZbEgsSSw0RkFBTSxTQUNoQjNCLEtBQUs4SSxNQUFRcEcsU0FBU0MsY0FBY2hCLEVBQUtSLE1BQ3pDbkIsS0FBSytJLEtBQU9yRyxTQUFTQyxjQUFjaEIsRUFBS04sS0FDeENyQixLQUFLZ0osUUFBVXRHLFNBQVNDLGNBQWNoQixFQUFLTCxPQUM1QyxDLGdEQUVELFdBTUUsT0FMQXRCLEtBQUtpSixNQUFRLENBQ1g5SCxLQUFNbkIsS0FBSzhJLE1BQU1yRixZQUNqQnBDLElBQUtyQixLQUFLK0ksS0FBS3RGLGFBR1Z6RCxLQUFLaUosS0FDYixHLHlCQUVELFNBQWFDLEdBQ1hsSixLQUFLOEksTUFBTXJGLFlBQWN5RixFQUFRL0gsS0FDakNuQixLQUFLK0ksS0FBS3RGLFlBQWN5RixFQUFRN0gsS0FBTzZILEVBQVE5SCxNQUMvQ3BCLEtBQUtvQyxJQUFNOEcsRUFBUTlHLEdBQ3BCLEcsdUJBRUQsU0FBV1QsR0FDVDNCLEtBQUtnSixRQUFRRyxNQUFNQyxnQkFBbkIsY0FBNEN6SCxFQUFLTCxPQUFqRCxJQUNELE0sc0VBeEJrQnVILEdDVWZRLEVBQWdCLENBQ3BCekUsYUFBYyxlQUNkRSxjQUFlLGdCQUNmRSxxQkFBc0IsaUJBQ3RCRSxnQkFBaUIsMEJBQ2pCRSxpQkFBa0IsNEJBQ2xCRSxrQkFBbUIsNkJBR2ZnRSxFQUFZNUcsU0FBU0MsY0FBYyw2QkFDbkM0RyxFQUFhN0csU0FBU0MsY0FBYyw4QkFDcEM2RyxFQUFlOUcsU0FBU0MsY0FBYyxxQ0FPdEM4RyxFQUF1QixrQkFFdkJDLEVBQVVoSCxTQUFTQyxjQUFjLHlCQUNqQ2dILEVBQVdqSCxTQUFTQyxjQUFjLDBCQUNsQ2lILEVBQWFsSCxTQUFTQyxjQUFjLDRCQVFwQ2tILEVBQU0sSUFBSS9KLEVBQUksQ0FDbEJJLFFBQVMsOENBQ1RFLFFBQVMsQ0FDUDBKLGNBQWUsdUNBQ2YsZUFBZ0Isc0JBSWRDLEVBQVEsSUFBSXpELEVBQVEsQ0FDeEJFLFNBQVMsU0FBQ0ksR0FDUixJQUFJb0QsRUFBT0MsR0FBY3JELEVBQU02QyxHQUFzQixrQkFBTTVILEdBQVkrRSxFQUFLekYsS0FBTXlGLEVBQUtwRixLQUFsQyxJQUF3QyxrQkFBTTBJLEdBQVl0RCxFQUFNb0QsRUFBeEIsSUFBOEIsa0JBQU1qSSxHQUFXNkUsRUFBTW9ELEVBQXZCLElBQzNIRCxFQUFNSSxVQUFXSCxHQUFNLEVBQ3hCLEdBekJvQixVQTRCakJJLEVBQW1CLElBQUlsRyxFQUFjbUYsRUFBZUssR0FDcERXLEVBQW9CLElBQUluRyxFQUFjbUYsRUFBZU0sR0FDckRXLEVBQXNCLElBQUlwRyxFQUFjbUYsRUFBZU8sR0FHdkRXLEVBQWdCLElBQUkzQyxFQW5DQSxzQkFvQ3BCNEMsRUFBd0IsSUFBSTlCLEVBbkNBLHVCQXFDNUIrQixFQUFlLElBQUl6QyxFQXpDQSxtQkF5Q2dDLFNBQUNqSCxHQUN4RDBKLEVBQWFDLGFBQVksR0FDekJiLEVBQUljLFlBQVk1SixHQUNiRixNQUFLLFNBQUMrSixHQUNMLElBQUlDLEVBQVVaLEdBQWFXLEVBQU1uQixHQUFzQixrQkFBTTVILEdBQVkrSSxFQUFLckosTUFBT3FKLEVBQUtwSixLQUFuQyxJQUEwQyxrQkFBTTBJLEdBQVlVLEVBQU1DLEVBQXhCLElBQWtDLGtCQUFNOUksR0FBVzZJLEVBQU1DLEVBQXZCLElBQ25JZCxFQUFNSSxVQUFVVSxHQUFTLEVBQzFCLElBQ0FDLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsRUFDYixJQUNBRyxTQUFRLGtCQUFNVCxFQUFhQyxhQUFZLEVBQS9CLEdBQ1osSUFFS1MsRUFBZ0IsSUFBSW5ELEVBckRBLG9CQXFEaUMsU0FBQ2pILEdBQzFEb0ssRUFBY1QsYUFBWSxHQUMxQmIsRUFBSXVCLFlBQVlySyxHQUNmRixNQUFLLFNBQUN3SyxHQUNMQyxHQUFRRixZQUFZQyxFQUNyQixJQUNBUCxPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLEVBQ2IsSUFDQUcsU0FBUSxrQkFBTUMsRUFBY1QsYUFBWSxFQUFoQyxHQUNWLElBRUthLEVBQWtCLElBQUl2RCxFQWhFQSxzQkFnRW1DLFNBQUNqSCxHQUM5RHdLLEVBQWdCYixhQUFZLEdBQzVCYixFQUFJMkIsVUFBVXpLLEdBQ2JGLE1BQUssU0FBQ3dLLEdBQ0xDLEdBQVFFLFVBQVVILEVBQ25CLElBQ0FQLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsRUFDYixJQUNBRyxTQUFRLGtCQUFNSyxFQUFnQmIsYUFBWSxFQUFsQyxHQUNWLElBR0tZLEdBQVUsSUFBSXpDLEVBbkVBLENBQ2xCMUgsS0FBTSxpQkFDTkUsSUFBSyxnQkFDTEMsT0FBUSxxQkFvRVYsU0FBUzRJLEdBQWF0RCxFQUFNb0QsR0FDMUJRLEVBQXNCaUIsWUFDdEJqQixFQUFzQmtCLFdBQVUsV0FDOUI3QixFQUFJOEIsaUJBQWlCL0UsRUFBS3hFLEtBQ3ZCdkIsTUFBSyxXQUNKbUosRUFBS2xFLFNBQ0xrRSxFQUFPLEtBQ1BRLEVBQXNCL0MsWUFDdkIsSUFDQXFELE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsRUFDYixHQUNKLEdBQ0YsQ0FHRCxTQUFTaEosR0FBWTZFLEVBQU1vRCxHQUNyQkEsRUFBS3JILGNBQWMsZ0JBQWdCVyxVQUFVcUUsU0FBUyw0QkFDeERrQyxFQUFJK0IsT0FBT2hGLEVBQUt4RSxLQUNmdkIsTUFBSyxTQUFDK0YsR0FDTG9ELEVBQUs2QixTQUFTQyxjQUFjbEYsRUFBS3pFLE1BQU0wQixPQUN4QyxJQUNBaUgsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixFQUNiLElBRURsQixFQUFJN0YsS0FBSzRDLEVBQUt4RSxLQUNYdkIsTUFBSyxTQUFDK0YsR0FDTG9ELEVBQUs2QixTQUFTQyxjQUFjbEYsRUFBS3pFLE1BQU0wQixPQUN4QyxJQUNBaUgsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixFQUNiLElBRUxmLEVBQUtySCxjQUFjLGdCQUFnQlcsVUFBVUMsT0FBTywyQkFDckQsQ0FHRCxTQUFTMEcsR0FBY3RJLEVBQU04SCxFQUFzQjVILEVBQVlxSSxFQUFhbkksR0FDMUUsSUFBTThJLEVBQVUsSUFBSW5KLEVBQUtDLEVBQU04SCxFQUFzQjVILEVBQVlxSSxFQUFhbkksR0FDeEVnSyxFQUFlbEIsRUFBUW1CLGFBRTdCLE9BREFELEVBQWFGLFNBQVdoQixFQUNqQmtCLENBQ1IsQ0FHRCxTQUFTbEssR0FBWUwsRUFBTUQsR0FDekJnSixFQUFja0IsVUFBVWpLLEVBQU1ELEVBQy9CLENBSURzSSxFQUFJb0MsaUJBQ0RwTCxNQUFLLFNBQUN3SyxHQUNMQyxHQUFRRixZQUFZQyxHQUNwQkMsR0FBUUUsVUFBVUgsRUFDbkIsSUFDQVAsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxJQUFJRixFQUNiLElBRUhsQixFQUFJcUMsa0JBQ0RyTCxNQUFLLFNBQUNzTCxHQUNMcEMsRUFBTXFDLFlBQWFELEVBQ3BCLElBQ0FyQixPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLEVBQ2IsSUFHSFYsRUFBa0JnQyxtQkFDbEJqQyxFQUFpQmlDLG1CQUNqQi9CLEVBQW9CK0IsbUJBR3BCOUIsRUFBYytCLG9CQUNkN0IsRUFBYTZCLG9CQUNibkIsRUFBY21CLG9CQUNkZixFQUFnQmUsb0JBQ2hCOUIsRUFBc0I4QixvQkFFdEIvQyxFQUFXN0YsaUJBQWlCLFNBQVMsV0FDbkMsSUFBTTZJLEVBQWM3SixTQUFTQyxjQUFjLDJCQUNyQzZKLEVBQWE5SixTQUFTQyxjQUFjLDBCQUNwQ2lJLEVBQU9VLEdBQVFtQixjQUNyQm5CLEdBQVFGLFlBQVlSLEdBQ3BCMkIsRUFBWWxFLE1BQVF1QyxFQUFLekosS0FDekJxTCxFQUFXbkUsTUFBUXVDLEVBQUt2SixJQUN4QmdKLEVBQWtCcUMsa0JBQ2xCdkIsRUFBY00sV0FDZixJQUVEbkMsRUFBVTVGLGlCQUFpQixTQUFTLFdBQ2xDMEcsRUFBaUJzQyxrQkFDakJqQyxFQUFhZ0IsV0FDZCxJQUVEakMsRUFBYTlGLGlCQUFpQixTQUFTLFdBQ3JDNEcsRUFBb0JvQyxrQkFDcEJuQixFQUFnQkUsV0FDakIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmwsXHJcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzXHJcbiAgfVxyXG5cclxuICBfY2hlY2socmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAgJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgZ2V0UHJvZmlsZUluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgICAudGhlbihyZXMgPT4gdGhpcy5fY2hlY2socmVzKSlcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB0aGlzLl9jaGVjayhyZXMpKVxyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8odmFsdWVzKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IHZhbHVlcy5uYW1lLFxyXG4gICAgICAgIGFib3V0OiB2YWx1ZXMuam9iXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuX2NoZWNrKHJlcykpXHJcbiAgfVxyXG5cclxuICBzZXRBdmF0YXIodmFsdWVzKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IHZhbHVlcy5hdmF0YXJcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAudGhlbihyZXMgPT4gdGhpcy5fY2hlY2socmVzKSlcclxuICB9XHJcblxyXG4gIHBvc3ROZXdDYXJkKHZhbHVlcykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IHZhbHVlcy5wbGFjZSxcclxuICAgICAgICBsaW5rOiB2YWx1ZXMubGlua1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB0aGlzLl9jaGVjayhyZXMpKVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlT3duZXJzQ2FyZChjYXJkSWQpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4ocmVzID0+IHRoaXMuX2NoZWNrKHJlcykpXHJcbiAgICB9XHJcblxyXG4gIGxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuX2NoZWNrKHJlcykpXHJcbiAgfVxyXG5cclxuICB1bmxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuX2NoZWNrKHJlcykpXHJcbiAgfVxyXG59IiwiLyrQmtCw0YDRgtC+0YfQutC4Ki9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgdGVtcGxhdGVTZWxlY3RvciwgaGFuZGVsVmlldywgb3BlbkRlbGV0ZVBvcHVwLCBoYW5kZWxMaWtlKSB7XHJcbiAgICB0aGlzLl9wbGFjZSA9IGRhdGEucGxhY2UgfHwgZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcyB8fCBbXTtcclxuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9vd25lciA9IGRhdGEub3duZXI7XHJcbiAgICB0aGlzLl9zZWxmID0gJ2MxZThiZjNkODg2NjBjOGEyYjRiZjhhMCc7XHJcbiAgICB0aGlzLl9zZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGVtcGxhdGVTZWxlY3RvcikuY29udGVudDtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl90ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2VsZW1lbnQnKS5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICB0aGlzLl9saWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2xpa2UnKTtcclxuICAgIHRoaXMuX2NvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fbGlrZXMtY291bnRlcicpO1xyXG4gICAgdGhpcy5fZGVsID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2RlbGV0ZScpO1xyXG4gICAgdGhpcy5fdmlldyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19pbWFnZScpO1xyXG4gICAgdGhpcy5faGFuZGVsVmlldyA9IGhhbmRlbFZpZXc7XHJcbiAgICB0aGlzLl9vcGVuRGVsZXRlUG9wdXAgPSBvcGVuRGVsZXRlUG9wdXA7XHJcbiAgICB0aGlzLl9oYW5kZWxMaWtlID0gaGFuZGVsTGlrZTtcclxuICB9XHJcblxyXG4gIGxpa2VDYXJkKCkge1xyXG4gICAgdGhpcy5fbGlrZS5jbGFzc0xpc3QudG9nZ2xlKCdjYXJkc19fbGlrZV9zdGF0ZV9hY3RpdmUnKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUNvdW50ZXIgKGFtb3VudCkge1xyXG4gICAgdGhpcy5fY291bnRlci50ZXh0Q29udGVudCA9IGFtb3VudDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3ZpZXcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kZWxWaWV3KHRoaXMuX3BsYWNlLCB0aGlzLl9saW5rKSk7XHJcbiAgICB0aGlzLl9saWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGVsTGlrZSh0aGlzLl9pZCx0aGlzLl9lbGVtZW50KSk7XHJcbiAgICB0aGlzLl9kZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9vcGVuRGVsZXRlUG9wdXAodGhpcy5fZWxlbWVudCkpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlQ2FyZCAoKSB7XHJcbiAgICB0aGlzLl92aWV3LnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl92aWV3LmFsdCA9IHRoaXMuX3BsYWNlO1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX3BsYWNlJykudGV4dENvbnRlbnQgPSB0aGlzLl9wbGFjZTtcclxuICAgIHRoaXMuX2NvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICBpZiAodGhpcy5fb3duZXIuX2lkICE9PSB0aGlzLl9zZWxmKSB7XHJcbiAgICAgIHRoaXMuX2RlbC5jbGFzc0xpc3QuYWRkKCdjYXJkc19fZGVsZXRlX2hpZGRlbicpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuX2xpa2VzLnNvbWUoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl9zZWxmKSkge1xyXG4gICAgICB0aGlzLl9saWtlLmNsYXNzTGlzdC5hZGQoJ2NhcmRzX19saWtlX3N0YXRlX2FjdGl2ZScpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZWxlbWVudCkge1xyXG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gc2V0dGluZ3MuZm9ybVNlbGVjdG9yLFxyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3IsXHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yLFxyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzLFxyXG4gICAgdGhpcy5fZXJyb3JBY3RpdmVDbGFzcyA9IHNldHRpbmdzLmVycm9yQWN0aXZlQ2xhc3MsXHJcbiAgICB0aGlzLl9lcnJvclR5cGVUZW1wbGF0ZSA9IHNldHRpbmdzLmVycm9yVHlwZVRlbXBsYXRlLFxyXG4gICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQsXHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSlcclxuICB9XHJcblxyXG4gIC8q0KHQvtC+0LHRidC10L3QuNGPINC+0LEg0L7RiNC40LHQutCw0YUg0LLQstC+0LTQsCovXHJcbl9zaG93SW5wdXRFcnJvciAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fZXJyb3JUeXBlVGVtcGxhdGV9JHtpbnB1dEVsZW1lbnQuaWR9YCk7XHJcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JBY3RpdmVDbGFzcyk7XHJcbn1cclxuXHJcbl9oaWRlSW5wdXRFcnJvciAoaW5wdXRFbGVtZW50KSB7XHJcbiAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMuX2Vycm9yVHlwZVRlbXBsYXRlfSR7aW5wdXRFbGVtZW50LmlkfWApO1xyXG4gIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JBY3RpdmVDbGFzcyk7XHJcbiAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbn1cclxuXHJcbi8q0J/RgNC+0LLQtdGA0LrQsCDQstCw0LvQuNC00L3QvtGB0YLQuCDQv9C+0LvRjyovXHJcbl9jaGVja1ZhbGlkaXR5ID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgfVxyXG59XHJcblxyXG4vKtCS0LDQu9C40LTQvdC+0YHRgtGMINGE0L7RgNC80YsqL1xyXG5faGFzSW52YWxpZElucHV0ICgpIHtcclxuICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgfSk7IFxyXG59XHJcblxyXG4vKtGB0L7RgdGC0L7Rj9C90LjQtSDQutC90L7Qv9C60LgqL1xyXG5fdG9nZ2xlQnV0dG9uU3RhdGUgKCkge1xyXG4gIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xyXG4gIH1cclxufVxyXG5cclxuLyrQodC70YPRiNCw0YLQtdC70Lgg0LLQstC+0LTQsCovXHJcbl9zZXRFdmVudExpc3RlbmVycyAoKSB7XHJcbiAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2ggKGlucHV0RWxlbWVudCA9PiB7XHJcbiAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2NoZWNrVmFsaWRpdHkgKGlucHV0RWxlbWVudCk7XHJcbiAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlICgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8q0LTQtdCw0LrRgtC40LLQsNGG0LjRjyDQutC90L7Qv9C60LgqL1xyXG5pbmFjdGl2YXRlU3VibWl0QnV0dG9uKCkge1xyXG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24nKTtcclxuICBzdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xyXG59XHJcblxyXG4vKtCe0YfQuNGB0YLQutCwKi9cclxucmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KVxyXG4gIH0pO1xyXG59XHJcblxyXG4vKtCS0LDQu9C40LTQsNGG0LjRjyovXHJcbmVuYWJsZVZhbGlkYXRpb24gKCkge1xyXG4gIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlICgpO1xyXG4gIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzICgpO1xyXG59O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IgKHtyZW5kZXJlcn0sIHRhcmdldFNlbGVjdG9yKSB7XHJcbi8vICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcyAoaXRlbXMpIHtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHBsYWNlSXRlbSAoZWxlbWVudCwgaXNJbmludGlhbCkge1xyXG4gICAgaWYgKGlzSW5pbnRpYWwpIHtcclxuICAgICAgdGhpcy5fdGFyZ2V0LmFwcGVuZChlbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3RhcmdldC5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbicpO1xyXG4gIH1cclxuXHJcbiAgb3BlblBvcHVwKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuICBcclxuICBjbG9zZVBvcHVwKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlLXgnKSB8fCBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX292ZXJsYXknKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXApIHtzdXBlcihwb3B1cCksXHJcbiAgICB0aGlzLl92aWV3SW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3ZpZXctaW1hZ2UnKTtcclxuICAgIHRoaXMuX3ZpZXdMb2NhdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fdmlldy1sb2NhdGlvbicpO1xyXG4gIH1cclxuXHJcbiAgb3BlblBvcHVwKHBsYWNlLCBsaW5rKSB7XHJcbiAgICB0aGlzLl92aWV3SW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHRoaXMuX3ZpZXdJbWFnZS5hbHQgPSBwbGFjZTtcclxuICAgIHRoaXMuX3ZpZXdMb2NhdGlvbi50ZXh0Q29udGVudCA9IHBsYWNlO1xyXG4gICAgc3VwZXIub3BlblBvcHVwICgpO1xyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cCxoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cCk7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgIHRoaXMuX2lucHV0cyA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0JykpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzICgpIHtcclxuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgdmFsdWVzW2VsZW1lbnQubmFtZV0gPSBlbGVtZW50LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMgKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY29uc3QgdmFsdWVzID0gdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh2YWx1ZXMpO1xyXG4gICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3B1cCAoKSB7XHJcbiAgICBzdXBlci5jbG9zZVBvcHVwICgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCAoKTtcclxuICB9XHJcblxyXG4gIHNob3dMb2FkaW5nIChsb2FkaW5nKSB7XHJcbiAgICBpZiAobG9hZGluZykge1xyXG4gICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QuNGC0YwnO1xyXG4gICAgfVxyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwLGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gIH1cclxuXHJcbiAgb3BlblBvcHVwKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgc3VwZXIub3BlblBvcHVwKCk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycyAoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoKTtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdChhY3Rpb24pIHtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGFjdGlvbjtcclxufVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRhdGEubmFtZSk7XHJcbiAgICB0aGlzLl9qb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRhdGEuam9iKTtcclxuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5hdmF0YXIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8gKCkge1xyXG4gICAgdGhpcy5faW5mbyA9IHtcclxuICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgam9iOiB0aGlzLl9qb2IudGV4dENvbnRlbnRcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5faW5mbztcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvIChuZXdJbmZvKSB7XHJcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmV3SW5mby5uYW1lO1xyXG4gICAgdGhpcy5fam9iLnRleHRDb250ZW50ID0gbmV3SW5mby5qb2IgfHwgbmV3SW5mby5hYm91dDtcclxuICAgIHRoaXMuX2lkID0gbmV3SW5mby5faWQ7XHJcbiAgfVxyXG5cclxuICBzZXRBdmF0YXIgKGRhdGEpIHtcclxuICAgIHRoaXMuX2F2YXRhci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7ZGF0YS5hdmF0YXJ9KWA7XHJcbiAgfVxyXG59IiwiaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5cclxuY29uc3Qgc2VsZWN0b3JzTGlzdCA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgZXJyb3JBY3RpdmVDbGFzczogJ3BvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmUnLFxyXG4gIGVycm9yVHlwZVRlbXBsYXRlOiAnLnBvcHVwX19pbnB1dC1lcnJvcl90eXBlXydcclxufVxyXG5cclxuY29uc3QgYnV0dG9uQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbl90eXBlX2FkZCcpO1xyXG5jb25zdCBidXR0b25FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbl90eXBlX2VkaXQnKTtcclxuY29uc3QgYnV0dG9uQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbl90eXBlX2VkaXQtYXZhdGFyJyk7XHJcbmNvbnN0IHBvcHVwQWRkU2VsZWN0b3IgPSAnLnBvcHVwX3R5cGVfYWRkJztcclxuY29uc3QgcG9wdXBFZGl0U2VsZWN0b3IgPSAnLnBvcHVwX3R5cGVfZWRpdCc7XHJcbmNvbnN0IHBvcHVwQXZhdGFyU2VsZWN0b3IgPSAnLnBvcHVwX3R5cGVfYXZhdGFyJztcclxuY29uc3QgcG9wdXBWaWV3U2VsZWN0b3IgPSAnLnBvcHVwX3R5cGVfdmlld2VyJztcclxuY29uc3QgcG9wdXBDb25maXJtYXRpb25TZWxlY3RvciA9ICcucG9wdXBfdHlwZV9jb25maXJtJztcclxuY29uc3QgY2FyZHNDb250YWluZXIgPSAnLmNhcmRzJztcclxuY29uc3QgY2FyZFRlbXBsYXRlU2VsZWN0b3IgPSAnI2NhcmRzX19lbGVtZW50JztcclxuXHJcbmNvbnN0IGZvcm1BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fdHlwZV9hZGQnKTtcclxuY29uc3QgZm9ybUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fdHlwZV9lZGl0Jyk7XHJcbmNvbnN0IGZvcm1BdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fdHlwZV9hdmF0YXInKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVEYXRhID0ge1xyXG4gIG5hbWU6ICcucHJvZmlsZV9fbmFtZScsXHJcbiAgam9iOiAnLnByb2ZpbGVfX2pvYicsXHJcbiAgYXZhdGFyOiAnLnByb2ZpbGVfX2F2YXRhcidcclxufVxyXG4vKtCt0JrQl9CV0JzQn9Cb0K/QoNCrINCa0JvQkNCh0KHQntCSKi9cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDgnLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246ICc4MzYzZTBmNS0yYzY3LTQzOTUtYmYyMS00ZjZmZGU0N2IyNjInLFxyXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gIH1cclxufSk7XHJcblxyXG5jb25zdCBjYXJkcyA9IG5ldyBTZWN0aW9uKHtcclxuICByZW5kZXJlcjooaXRlbSkgPT4ge1xyXG4gICAgbGV0IGNhcmQgPSBnZW5lcmF0ZUNhcmQgKGl0ZW0sIGNhcmRUZW1wbGF0ZVNlbGVjdG9yLCAoKSA9PiBoYW5kZWxWaWV3IChpdGVtLm5hbWUsIGl0ZW0ubGluayksKCkgPT4gb3BlbkNvbmZpcm0oaXRlbSwgY2FyZCksKCkgPT4gaGFuZGVsTGlrZShpdGVtLCBjYXJkKSk7XHJcbiAgICBjYXJkcy5wbGFjZUl0ZW0gKGNhcmQsIHRydWUpO1xyXG4gIH1cclxufSxjYXJkc0NvbnRhaW5lcik7XHJcblxyXG5jb25zdCBmb3JtQWRkVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2VsZWN0b3JzTGlzdCwgZm9ybUFkZCk7XHJcbmNvbnN0IGZvcm1FZGl0VmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2VsZWN0b3JzTGlzdCwgZm9ybUVkaXQpO1xyXG5jb25zdCBmb3JtQXZhdGFyVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2VsZWN0b3JzTGlzdCwgZm9ybUF2YXRhcik7XHJcblxyXG4vKiDQv9C+0L/QsNC/0YsgKi9cclxuY29uc3QgcG9wdXBWaWV3SXRlbSA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cFZpZXdTZWxlY3Rvcik7XHJcbmNvbnN0IHBvcHVwQ29uZmlybWF0aW9uSXRlbSA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24ocG9wdXBDb25maXJtYXRpb25TZWxlY3Rvcik7XHJcblxyXG5jb25zdCBwb3B1cEFkZEl0ZW0gPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEFkZFNlbGVjdG9yLCAodmFsdWVzKSA9PiB7XHJcbiAgcG9wdXBBZGRJdGVtLnNob3dMb2FkaW5nKHRydWUpO1xyXG4gIGFwaS5wb3N0TmV3Q2FyZCh2YWx1ZXMpXHJcbiAgICAudGhlbigoaW5mbykgPT4ge1xyXG4gICAgICBsZXQgY2FyZE5ldyA9IGdlbmVyYXRlQ2FyZChpbmZvLCBjYXJkVGVtcGxhdGVTZWxlY3RvciwgKCkgPT4gaGFuZGVsVmlldyAoaW5mby5wbGFjZSwgaW5mby5saW5rKSwgKCkgPT4gb3BlbkNvbmZpcm0oaW5mbywgY2FyZE5ldyksICgpID0+IGhhbmRlbExpa2UoaW5mbywgY2FyZE5ldykpO1xyXG4gICAgICBjYXJkcy5wbGFjZUl0ZW0oY2FyZE5ldywgZmFsc2UpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4gcG9wdXBBZGRJdGVtLnNob3dMb2FkaW5nKGZhbHNlKSk7XHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBFZGl0SXRlbSA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwRWRpdFNlbGVjdG9yLCAodmFsdWVzKSA9PiB7XHJcbiAgcG9wdXBFZGl0SXRlbS5zaG93TG9hZGluZyh0cnVlKTtcclxuICBhcGkuc2V0VXNlckluZm8odmFsdWVzKVxyXG4gIC50aGVuKCh1c2VySW5mbykgPT4ge1xyXG4gICAgcHJvZmlsZS5zZXRVc2VySW5mbyh1c2VySW5mbyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9KVxyXG4gIC5maW5hbGx5KCgpID0+IHBvcHVwRWRpdEl0ZW0uc2hvd0xvYWRpbmcoZmFsc2UpKTtcclxufSk7XHJcblxyXG5jb25zdCBwb3B1cEF2YXRhckl0ZW0gPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEF2YXRhclNlbGVjdG9yLCAodmFsdWVzKSA9PiB7XHJcbiAgcG9wdXBBdmF0YXJJdGVtLnNob3dMb2FkaW5nKHRydWUpO1xyXG4gIGFwaS5zZXRBdmF0YXIodmFsdWVzKVxyXG4gIC50aGVuKCh1c2VySW5mbykgPT4ge1xyXG4gICAgcHJvZmlsZS5zZXRBdmF0YXIodXNlckluZm8pO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSlcclxuICAuZmluYWxseSgoKSA9PiBwb3B1cEF2YXRhckl0ZW0uc2hvd0xvYWRpbmcoZmFsc2UpKTtcclxufSk7XHJcblxyXG4vKkluZm8qL1xyXG5jb25zdCBwcm9maWxlID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVEYXRhKTtcclxuXHJcbi8q0KTQo9Cd0JrQptCY0JgqL1xyXG4vKtCj0LLQtdGA0LXQvdGLPyovXHJcbmZ1bmN0aW9uIG9wZW5Db25maXJtIChpdGVtLCBjYXJkKSB7XHJcbiAgcG9wdXBDb25maXJtYXRpb25JdGVtLm9wZW5Qb3B1cCgpO1xyXG4gIHBvcHVwQ29uZmlybWF0aW9uSXRlbS5zZXRTdWJtaXQoKCkgPT4ge1xyXG4gICAgYXBpLmRlbGV0ZU93bmVyc0NhcmQoaXRlbS5faWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBjYXJkLnJlbW92ZSgpO1xyXG4gICAgICAgIGNhcmQgPSBudWxsO1xyXG4gICAgICAgIHBvcHVwQ29uZmlybWF0aW9uSXRlbS5jbG9zZVBvcHVwKCk7XHJcbiAgICAgIH0pICAgICAgICAgIFxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH0pXHJcbn1cclxuXHJcbi8qbGlrZXMqL1xyXG5mdW5jdGlvbiBoYW5kZWxMaWtlIChpdGVtLCBjYXJkKSB7XHJcbiAgaWYgKGNhcmQucXVlcnlTZWxlY3RvcignLmNhcmRzX19saWtlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkc19fbGlrZV9zdGF0ZV9hY3RpdmUnKSkge1xyXG4gICAgYXBpLnVubGlrZShpdGVtLl9pZClcclxuICAgIC50aGVuKChpdGVtKSA9PiB7XHJcbiAgICAgIGNhcmQuY2FyZEl0ZW0udXBkYXRlQ291bnRlcihpdGVtLmxpa2VzLmxlbmd0aCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhcGkubGlrZShpdGVtLl9pZClcclxuICAgICAgLnRoZW4oKGl0ZW0pID0+IHtcclxuICAgICAgICBjYXJkLmNhcmRJdGVtLnVwZGF0ZUNvdW50ZXIoaXRlbS5saWtlcy5sZW5ndGgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pXHJcbiAgfVxyXG4gIGNhcmQucXVlcnlTZWxlY3RvcignLmNhcmRzX19saWtlJykuY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZHNfX2xpa2Vfc3RhdGVfYWN0aXZlJyk7XHJcbn1cclxuXHJcbi8q0JrQsNGA0YLQvtGH0LrQsCovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQ2FyZCAoZGF0YSwgY2FyZFRlbXBsYXRlU2VsZWN0b3IsIGhhbmRlbFZpZXcsIG9wZW5Db25maXJtLCBoYW5kZWxMaWtlKXtcclxuICBjb25zdCBjYXJkTmV3ID0gbmV3IENhcmQoZGF0YSwgY2FyZFRlbXBsYXRlU2VsZWN0b3IsIGhhbmRlbFZpZXcsIG9wZW5Db25maXJtLCBoYW5kZWxMaWtlKTtcclxuICBjb25zdCBjYXJkc0VsZW1lbnQgPSBjYXJkTmV3LmNyZWF0ZUNhcmQoKTtcclxuICBjYXJkc0VsZW1lbnQuY2FyZEl0ZW0gPSBjYXJkTmV3O1xyXG4gIHJldHVybiBjYXJkc0VsZW1lbnQ7XHJcbn1cclxuXHJcbi8q0J/RgNC+0YHQvNC+0YLRgCDQutCw0YDRgtC40L3QutC4Ki9cclxuZnVuY3Rpb24gaGFuZGVsVmlldyAobGluaywgcGxhY2UpIHtcclxuICBwb3B1cFZpZXdJdGVtLm9wZW5Qb3B1cChsaW5rLCBwbGFjZSk7XHJcbn1cclxuXHJcbi8q0JTQldCZ0KHQotCS0JjQryovXHJcbi8q0J3QsNGH0LDQu9GM0L3QsNGPINC40L3RhNC+0YDQvNCw0YbQuNGPKi9cclxuYXBpLmdldFByb2ZpbGVJbmZvKClcclxuICAudGhlbigodXNlckluZm8pID0+IHtcclxuICAgIHByb2ZpbGUuc2V0VXNlckluZm8odXNlckluZm8pO1xyXG4gICAgcHJvZmlsZS5zZXRBdmF0YXIodXNlckluZm8pO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSk7XHJcblxyXG5hcGkuZ2V0SW5pdGlhbENhcmRzKClcclxuICAudGhlbigoY2FyZHNJbmZvKSA9PiB7XHJcbiAgICBjYXJkcy5yZW5kZXJJdGVtcyAoY2FyZHNJbmZvKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gIH0pO1xyXG5cclxuLyrQktCw0LvQuNC00LDRhtC40Y8g0L7RgtC/0YDQsNCy0LrQuCDRhNC+0YDQvNGLKi9cclxuZm9ybUVkaXRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5mb3JtQWRkVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuZm9ybUF2YXRhclZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vKtCh0LvRg9GI0LDRgtC10LvQuCovXHJcbnBvcHVwVmlld0l0ZW0uc2V0RXZlbnRMaXN0ZW5lcnMgKCk7XHJcbnBvcHVwQWRkSXRlbS5zZXRFdmVudExpc3RlbmVycyAoKTtcclxucG9wdXBFZGl0SXRlbS5zZXRFdmVudExpc3RlbmVycyAoKTtcclxucG9wdXBBdmF0YXJJdGVtLnNldEV2ZW50TGlzdGVuZXJzICgpO1xyXG5wb3B1cENvbmZpcm1hdGlvbkl0ZW0uc2V0RXZlbnRMaXN0ZW5lcnMgKCk7XHJcblxyXG5idXR0b25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfbmFtZScpO1xyXG4gIGNvbnN0IHByb2ZpbGVKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfam9iJyk7XHJcbiAgY29uc3QgaW5mbyA9IHByb2ZpbGUuZ2V0VXNlckluZm8oKTtcclxuICBwcm9maWxlLnNldFVzZXJJbmZvKGluZm8pO1xyXG4gIHByb2ZpbGVOYW1lLnZhbHVlID0gaW5mby5uYW1lO1xyXG4gIHByb2ZpbGVKb2IudmFsdWUgPSBpbmZvLmpvYjtcclxuICBmb3JtRWRpdFZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICBwb3B1cEVkaXRJdGVtLm9wZW5Qb3B1cCgpO1xyXG59KTtcclxuXHJcbmJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gIGZvcm1BZGRWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgcG9wdXBBZGRJdGVtLm9wZW5Qb3B1cCgpO1xyXG59KTtcclxuXHJcbmJ1dHRvbkF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gIGZvcm1BdmF0YXJWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgcG9wdXBBdmF0YXJJdGVtLm9wZW5Qb3B1cCgpO1xyXG59KTsiXSwibmFtZXMiOlsiQXBpIiwib3B0aW9ucyIsInRoaXMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiX2NoZWNrIiwidmFsdWVzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYW1lIiwiYWJvdXQiLCJqb2IiLCJhdmF0YXIiLCJwbGFjZSIsImxpbmsiLCJjYXJkSWQiLCJDYXJkIiwiZGF0YSIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kZWxWaWV3Iiwib3BlbkRlbGV0ZVBvcHVwIiwiaGFuZGVsTGlrZSIsIl9wbGFjZSIsIl9saW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfaWQiLCJfb3duZXIiLCJvd25lciIsIl9zZWxmIiwiX3NlbGVjdG9yIiwiX3RlbXBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsIl9lbGVtZW50IiwiY2xvbmVOb2RlIiwiX2xpa2UiLCJfY291bnRlciIsIl9kZWwiLCJfdmlldyIsIl9oYW5kZWxWaWV3IiwiX29wZW5EZWxldGVQb3B1cCIsIl9oYW5kZWxMaWtlIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiYW1vdW50IiwidGV4dENvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwic3JjIiwiYWx0IiwibGVuZ3RoIiwiYWRkIiwic29tZSIsImxpa2UiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJlbGVtZW50IiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckFjdGl2ZUNsYXNzIiwiZXJyb3JBY3RpdmVDbGFzcyIsIl9lcnJvclR5cGVUZW1wbGF0ZSIsImVycm9yVHlwZVRlbXBsYXRlIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlcnJvck1lc3NhZ2UiLCJfZXJyb3JFbGVtZW50IiwiaWQiLCJyZW1vdmUiLCJfaGFzSW52YWxpZElucHV0IiwiX2J1dHRvbkVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJmb3JFYWNoIiwiX2NoZWNrVmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJTZWN0aW9uIiwidGFyZ2V0U2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl90YXJnZXQiLCJpdGVtcyIsIml0ZW0iLCJpc0luaW50aWFsIiwiYXBwZW5kIiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfYnV0dG9uIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsImNsb3NlUG9wdXAiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwicG9wdXAiLCJfdmlld0ltYWdlIiwiX3ZpZXdMb2NhdGlvbiIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybSIsIl9pbnB1dHMiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJsb2FkaW5nIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiX2hhbmRsZVN1Ym1pdCIsImFjdGlvbiIsIlVzZXJJbmZvIiwiX25hbWUiLCJfam9iIiwiX2F2YXRhciIsIl9pbmZvIiwibmV3SW5mbyIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwic2VsZWN0b3JzTGlzdCIsImJ1dHRvbkFkZCIsImJ1dHRvbkVkaXQiLCJidXR0b25BdmF0YXIiLCJjYXJkVGVtcGxhdGVTZWxlY3RvciIsImZvcm1BZGQiLCJmb3JtRWRpdCIsImZvcm1BdmF0YXIiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiY2FyZHMiLCJjYXJkIiwiZ2VuZXJhdGVDYXJkIiwib3BlbkNvbmZpcm0iLCJwbGFjZUl0ZW0iLCJmb3JtQWRkVmFsaWRhdG9yIiwiZm9ybUVkaXRWYWxpZGF0b3IiLCJmb3JtQXZhdGFyVmFsaWRhdG9yIiwicG9wdXBWaWV3SXRlbSIsInBvcHVwQ29uZmlybWF0aW9uSXRlbSIsInBvcHVwQWRkSXRlbSIsInNob3dMb2FkaW5nIiwicG9zdE5ld0NhcmQiLCJpbmZvIiwiY2FyZE5ldyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZpbmFsbHkiLCJwb3B1cEVkaXRJdGVtIiwic2V0VXNlckluZm8iLCJ1c2VySW5mbyIsInByb2ZpbGUiLCJwb3B1cEF2YXRhckl0ZW0iLCJzZXRBdmF0YXIiLCJvcGVuUG9wdXAiLCJzZXRTdWJtaXQiLCJkZWxldGVPd25lcnNDYXJkIiwidW5saWtlIiwiY2FyZEl0ZW0iLCJ1cGRhdGVDb3VudGVyIiwiY2FyZHNFbGVtZW50IiwiY3JlYXRlQ2FyZCIsImdldFByb2ZpbGVJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwiY2FyZHNJbmZvIiwicmVuZGVySXRlbXMiLCJlbmFibGVWYWxpZGF0aW9uIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVKb2IiLCJnZXRVc2VySW5mbyIsInJlc2V0VmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=