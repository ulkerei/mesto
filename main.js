(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._headers=e.headers}var n,r;return n=t,(r=[{key:"_check",value:function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status))}},{key:"getProfileInfo",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:this._headers}).then((function(t){return e._check(t)}))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:this._headers}).then((function(t){return e._check(t)}))}},{key:"setUserInfo",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.job,avatar:e.avatar})}).then((function(e){return t._check(e)}))}},{key:"postNewCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.place,link:e.link})}).then((function(e){return t._check(e)}))}},{key:"deleteOwnersCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._check(e)}))}},{key:"like",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then((function(e){return t._check(e)}))}},{key:"unlike",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._check(e)}))}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,o,i,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._place=t.place||t.name,this._link=t.link,this._likes=t.likes||[],this.id=t._id,this._owner=t.owner,this._self=n,this._selector=r,this._template=document.querySelector(r).content,this._element=this._template.querySelector(".cards__element").cloneNode(!0),this._like=this._element.querySelector(".cards__like"),this._counter=this._element.querySelector(".cards__likes-counter"),this._del=this._element.querySelector(".cards__delete"),this._view=this._element.querySelector(".cards__image"),this._handelView=o,this._openDeletePopup=i,this._handelLike=u}var t,r;return t=e,(r=[{key:"likeCard",value:function(){this._like.classList.toggle("cards__like_state_active")}},{key:"updateCounter",value:function(e){this._counter.textContent=e}},{key:"isLiked",value:function(){return this._like.classList.contains("cards__like_state_active")}},{key:"removeCard",value:function(){this._element.remove(),this._element=null}},{key:"_setEventListeners",value:function(){var e=this;this._view.addEventListener("click",(function(){return e._handelView(e._place,e._link)})),this._like.addEventListener("click",(function(){return e._handelLike(e)})),this._del.addEventListener("click",(function(){return e._openDeletePopup(e)}))}},{key:"createCard",value:function(){var e=this;return this._view.src=this._link,this._view.alt=this._place,this._element.querySelector(".cards__place").textContent=this._place,this._counter.textContent=this._likes.length,this._owner._id!==this._self&&this._del.classList.add("cards__delete_hidden"),this._likes.some((function(t){return t._id===e._self}))&&this._like.classList.add("cards__like_state_active"),this._setEventListeners(),this._element}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){var r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(e){e.validity.valid?i._hideInputError(e):i._showInputError(e,e.validationMessage)},(r="_checkValidity")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inputErrorClass=t.inputErrorClass,this._errorActiveClass=t.errorActiveClass,this._errorTypeTemplate=t.errorTypeTemplate,this._element=n,this._inputList=Array.from(this._element.querySelectorAll(this._inputSelector))}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){this._errorElement=this._element.querySelector("".concat(this._errorTypeTemplate).concat(e.id)),e.classList.add(this._inputErrorClass),this._errorElement.textContent=t,this._errorElement.classList.add(this._errorActiveClass)}},{key:"_hideInputError",value:function(e){this._errorElement=this._element.querySelector("".concat(this._errorTypeTemplate).concat(e.id)),e.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorActiveClass),this._errorElement.textContent=""}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._buttonElement.setAttribute("disabled",!0):this._buttonElement.removeAttribute("disabled")}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkValidity(t),e._toggleButtonState()}))}))}},{key:"inactivateSubmitButton",value:function(){this._element.querySelector(".popup__button").setAttribute("disabled",!0)}},{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"enableValidation",value:function(){this._buttonElement=this._element.querySelector(this._submitButtonSelector),this._toggleButtonState(),this._setEventListeners()}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._target=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"placeItem",value:function(e,t){t?this._target.append(e):this._target.prepend(e)}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this._button=this._popup.querySelector(".popup__button")}var t,n;return t=e,(n=[{key:"openPopup",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"closePopup",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.closePopup()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){(t.target.classList.contains("popup__close-x")||t.target.classList.contains("popup__overlay"))&&e.closePopup()}))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=h(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},f.apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function y(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(o){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._viewImage=t._popup.querySelector(".popup__view-image"),t._viewLocation=t._popup.querySelector(".popup__view-location"),t}return t=u,(n=[{key:"openPopup",value:function(e,t){this._viewImage.src=t,this._viewImage.alt=e,this._viewLocation.textContent=e,f(d(u.prototype),"openPopup",this).call(this)}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(s);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=k(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},w.apply(this,arguments)}function k(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function E(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._handleFormSubmit=t,n._form=n._popup.querySelector(".popup__form"),n._inputs=Array.from(n._form.querySelectorAll(".popup__input")),n._buttonText=n._button.textContent,n}return t=u,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputs.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;w(S(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault();var n=e._getInputValues();e._handleFormSubmit(n)}))}},{key:"closePopup",value:function(){w(S(u.prototype),"closePopup",this).call(this),this._form.reset()}},{key:"showLoading",value:function(e){this._button.textContent=e?"Сохранение...":this._buttonText}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(s);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=C(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},L.apply(this,arguments)}function C(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function T(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return T(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._handleFormSubmit=t,n._form=n._popup.querySelector(".popup__form"),n}return t=u,(n=[{key:"openPopup",value:function(e){this._element=e,L(q(u.prototype),"openPopup",this).call(this)}},{key:"setEventListeners",value:function(){var e=this;L(q(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmit()}))}},{key:"setSubmit",value:function(e){this._handleSubmit=e}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(s);function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t.name),this._job=document.querySelector(t.job),this._avatar=document.querySelector(t.avatar)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._info={name:this._name.textContent,job:this._job.textContent,avatar:this._avatar.style.backgroundImage},this._info}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._job.textContent=e.job||e.about,this.id=e._id,this._avatar.style.backgroundImage="url(".concat(e.avatar,")")}}])&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inputErrorClass:"popup__input_type_error",errorActiveClass:"popup__input-error_active",errorTypeTemplate:".popup__input-error_type_"},V=document.querySelector(".popup__input_type_name"),D=document.querySelector(".popup__input_type_job"),N=document.querySelector(".profile__button_type_add"),F=document.querySelector(".profile__button_type_edit"),G=document.querySelector(".profile__button_type_edit-avatar"),J=document.querySelector(".popup__form_type_add"),M=document.querySelector(".popup__form_type_edit"),z=document.querySelector(".popup__form_type_avatar"),H=new t({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-48",headers:{authorization:"8363e0f5-2c67-4395-bf21-4f6fde47b262","Content-Type":"application/json"}}),$=new c({renderer:function(e){$.placeItem(re(e),!0)}},".cards"),K=new i(B,J),Q=new i(B,M),W=new i(B,z),X=new v(".popup_type_viewer"),Y=new R(".popup_type_confirm"),Z=new O(".popup_type_add",(function(e){Z.showLoading(!0),H.postNewCard(e).then((function(e){$.placeItem(re(e),!1),Z.closePopup()})).catch((function(e){console.log(e)})).finally((function(){return Z.showLoading(!1)}))})),ee=new O(".popup_type_edit",(function(e){ee.showLoading(!0),H.setUserInfo(e).then((function(e){ee.closePopup(),ne.setUserInfo(e)})).catch((function(e){console.log(e)})).finally((function(){return ee.showLoading(!1)}))})),te=new O(".popup_type_avatar",(function(e){te.showLoading(!0),H.setUserInfo(e).then((function(e){te.closePopup(),ne.setUserInfo(e)})).catch((function(e){console.log(e)})).finally((function(){return te.showLoading(!1)}))})),ne=new U({name:".profile__name",job:".profile__job",avatar:".profile__avatar"});function re(e){return new r(e,ne.id,"#cards__element",(function(){return t=e.name,n=e.link,void X.openPopup(t,n);var t,n}),oe,ie).createCard()}function oe(e){Y.openPopup(),Y.setSubmit((function(){H.deleteOwnersCard(e.id).then((function(){e.removeCard(),Y.closePopup()})).catch((function(e){console.log(e)}))}))}function ie(e){e.isLiked()?H.unlike(e.id).then((function(t){e.updateCounter(t.likes.length),e.likeCard()})).catch((function(e){console.log(e)})):H.like(e.id).then((function(t){e.updateCounter(t.likes.length),e.likeCard()})).catch((function(e){console.log(e)}))}Promise.all([H.getProfileInfo(),H.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,c=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];ne.setUserInfo(o),$.renderItems(i)})).catch((function(e){console.log(e)})),Q.enableValidation(),K.enableValidation(),W.enableValidation(),X.setEventListeners(),Z.setEventListeners(),ee.setEventListeners(),te.setEventListeners(),Y.setEventListeners(),F.addEventListener("click",(function(){var e=ne.getUserInfo();ne.setUserInfo(e),V.value=e.name,D.value=e.job,Q.resetValidation(),ee.openPopup()})),N.addEventListener("click",(function(){K.resetValidation(),Z.openPopup()})),G.addEventListener("click",(function(){W.resetValidation(),te.openPopup()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVFDLElBQUlGLEVBQ2IsSUFHRFIsRUFBa0JpQyxtQkFDbEJsQyxFQUFpQmtDLG1CQUNqQmhDLEVBQW9CZ0MsbUJBR3BCL0IsRUFBY2dDLG9CQUNkOUIsRUFBYThCLG9CQUNidEIsR0FBY3NCLG9CQUNkbEIsR0FBZ0JrQixvQkFDaEIvQixFQUFzQitCLG9CQUV0QjlDLEVBQVc3RixpQkFBaUIsU0FBUyxXQUNuQyxJQUFNcUcsRUFBT21CLEdBQVFvQixjQUNyQnBCLEdBQVFGLFlBQVlqQixHQUNwQlgsRUFBWWpCLE1BQVE0QixFQUFLL0ksS0FDekJxSSxFQUFXbEIsTUFBUTRCLEVBQUs3SSxJQUN4QmlKLEVBQWtCb0Msa0JBQ2xCeEIsR0FBY0ssV0FDZixJQUVEOUIsRUFBVTVGLGlCQUFpQixTQUFTLFdBQ2xDd0csRUFBaUJxQyxrQkFDakJoQyxFQUFhYSxXQUNkLElBRUQ1QixFQUFhOUYsaUJBQWlCLFNBQVMsV0FDckMwRyxFQUFvQm1DLGtCQUNwQnBCLEdBQWdCQyxXQUNqQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybCxcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnNcclxuICB9XHJcblxyXG4gIF9jaGVjayhyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsCAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgfVxyXG5cclxuICBnZXRQcm9maWxlSW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB0aGlzLl9jaGVjayhyZXMpKVxyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuX2NoZWNrKHJlcykpXHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh2YWx1ZXMpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogdmFsdWVzLm5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IHZhbHVlcy5qb2IsXHJcbiAgICAgICAgYXZhdGFyOiB2YWx1ZXMuYXZhdGFyXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuX2NoZWNrKHJlcykpXHJcbiAgfVxyXG5cclxuICBwb3N0TmV3Q2FyZCh2YWx1ZXMpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiB2YWx1ZXMucGxhY2UsXHJcbiAgICAgICAgbGluazogdmFsdWVzLmxpbmtcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAudGhlbihyZXMgPT4gdGhpcy5fY2hlY2socmVzKSlcclxuICB9XHJcblxyXG4gIGRlbGV0ZU93bmVyc0NhcmQoY2FyZElkKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiB0aGlzLl9jaGVjayhyZXMpKVxyXG4gICAgfVxyXG5cclxuICBsaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB0aGlzLl9jaGVjayhyZXMpKVxyXG4gIH1cclxuXHJcbiAgdW5saWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB0aGlzLl9jaGVjayhyZXMpKVxyXG4gIH1cclxufSIsIi8q0JrQsNGA0YLQvtGH0LrQuCovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIHVzZXJJZCwgdGVtcGxhdGVTZWxlY3RvciwgaGFuZGVsVmlldywgb3BlbkRlbGV0ZVBvcHVwLCBoYW5kZWxMaWtlKSB7XHJcbiAgICB0aGlzLl9wbGFjZSA9IGRhdGEucGxhY2UgfHwgZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcyB8fCBbXTtcclxuICAgIHRoaXMuaWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX293bmVyID0gZGF0YS5vd25lcjtcclxuICAgIHRoaXMuX3NlbGYgPSB1c2VySWQ7XHJcbiAgICB0aGlzLl9zZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGVtcGxhdGVTZWxlY3RvcikuY29udGVudDtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl90ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2VsZW1lbnQnKS5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICB0aGlzLl9saWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2xpa2UnKTtcclxuICAgIHRoaXMuX2NvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fbGlrZXMtY291bnRlcicpO1xyXG4gICAgdGhpcy5fZGVsID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2RlbGV0ZScpO1xyXG4gICAgdGhpcy5fdmlldyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19pbWFnZScpO1xyXG4gICAgdGhpcy5faGFuZGVsVmlldyA9IGhhbmRlbFZpZXc7XHJcbiAgICB0aGlzLl9vcGVuRGVsZXRlUG9wdXAgPSBvcGVuRGVsZXRlUG9wdXA7XHJcbiAgICB0aGlzLl9oYW5kZWxMaWtlID0gaGFuZGVsTGlrZTtcclxuICB9XHJcblxyXG4gIGxpa2VDYXJkKCkge1xyXG4gICAgdGhpcy5fbGlrZS5jbGFzc0xpc3QudG9nZ2xlKCdjYXJkc19fbGlrZV9zdGF0ZV9hY3RpdmUnKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUNvdW50ZXIgKGxpa2VzKSB7XHJcbiAgICB0aGlzLl9jb3VudGVyLnRleHRDb250ZW50ID0gbGlrZXM7XHJcbiAgfVxyXG5cclxuICBpc0xpa2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xpa2UuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkc19fbGlrZV9zdGF0ZV9hY3RpdmUnKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl92aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGVsVmlldyh0aGlzLl9wbGFjZSwgdGhpcy5fbGluaykpO1xyXG4gICAgdGhpcy5fbGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRlbExpa2UodGhpcykpO1xyXG4gICAgdGhpcy5fZGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5fb3BlbkRlbGV0ZVBvcHVwKHRoaXMpKTtcclxuICB9XHJcblxyXG5cclxuICBjcmVhdGVDYXJkICgpIHtcclxuICAgIHRoaXMuX3ZpZXcuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX3ZpZXcuYWx0ID0gdGhpcy5fcGxhY2U7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkc19fcGxhY2UnKS50ZXh0Q29udGVudCA9IHRoaXMuX3BsYWNlO1xyXG4gICAgdGhpcy5fY291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICAgIGlmICh0aGlzLl9vd25lci5faWQgIT09IHRoaXMuX3NlbGYpIHtcclxuICAgICAgdGhpcy5fZGVsLmNsYXNzTGlzdC5hZGQoJ2NhcmRzX19kZWxldGVfaGlkZGVuJyk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX3NlbGYpKSB7XHJcbiAgICAgIHRoaXMuX2xpa2UuY2xhc3NMaXN0LmFkZCgnY2FyZHNfX2xpa2Vfc3RhdGVfYWN0aXZlJyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBzZXR0aW5ncy5mb3JtU2VsZWN0b3IsXHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcixcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3IsXHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MsXHJcbiAgICB0aGlzLl9lcnJvckFjdGl2ZUNsYXNzID0gc2V0dGluZ3MuZXJyb3JBY3RpdmVDbGFzcyxcclxuICAgIHRoaXMuX2Vycm9yVHlwZVRlbXBsYXRlID0gc2V0dGluZ3MuZXJyb3JUeXBlVGVtcGxhdGUsXHJcbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudCxcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKVxyXG4gIH1cclxuXHJcbiAgLyrQodC+0L7QsdGJ0LXQvdC40Y8g0L7QsSDQvtGI0LjQsdC60LDRhSDQstCy0L7QtNCwKi9cclxuX3Nob3dJbnB1dEVycm9yIChpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xyXG4gIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihgJHt0aGlzLl9lcnJvclR5cGVUZW1wbGF0ZX0ke2lucHV0RWxlbWVudC5pZH1gKTtcclxuICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckFjdGl2ZUNsYXNzKTtcclxufVxyXG5cclxuX2hpZGVJbnB1dEVycm9yIChpbnB1dEVsZW1lbnQpIHtcclxuICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7dGhpcy5fZXJyb3JUeXBlVGVtcGxhdGV9JHtpbnB1dEVsZW1lbnQuaWR9YCk7XHJcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckFjdGl2ZUNsYXNzKTtcclxuICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxufVxyXG5cclxuLyrQn9GA0L7QstC10YDQutCwINCy0LDQu9C40LTQvdC+0YHRgtC4INC/0L7Qu9GPKi9cclxuX2NoZWNrVmFsaWRpdHkgPSAoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICB9XHJcbn1cclxuXHJcbi8q0JLQsNC70LjQtNC90L7RgdGC0Ywg0YTQvtGA0LzRiyovXHJcbl9oYXNJbnZhbGlkSW5wdXQgKCkge1xyXG4gIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICB9KTsgXHJcbn1cclxuXHJcbi8q0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuCovXHJcbl90b2dnbGVCdXR0b25TdGF0ZSAoKSB7XHJcbiAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgfVxyXG59XHJcblxyXG4vKtCh0LvRg9GI0LDRgtC10LvQuCDQstCy0L7QtNCwKi9cclxuX3NldEV2ZW50TGlzdGVuZXJzICgpIHtcclxuICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCAoaW5wdXRFbGVtZW50ID0+IHtcclxuICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgdGhpcy5fY2hlY2tWYWxpZGl0eSAoaW5wdXRFbGVtZW50KTtcclxuICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUgKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuLyrQtNC10LDQutGC0LjQstCw0YbQuNGPINC60L3QvtC/0LrQuCovXHJcbmluYWN0aXZhdGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgY29uc3Qgc3VibWl0QnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbicpO1xyXG4gIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbn1cclxuXHJcbi8q0J7Rh9C40YHRgtC60LAqL1xyXG5yZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpXHJcbiAgfSk7XHJcbn1cclxuXHJcbi8q0JLQsNC70LjQtNCw0YbQuNGPKi9cclxuZW5hYmxlVmFsaWRhdGlvbiAoKSB7XHJcbiAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUgKCk7XHJcbiAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMgKCk7XHJcbn07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3RvciAoe3JlbmRlcmVyfSwgdGFyZ2V0U2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl90YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zIChpdGVtcykge1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcGxhY2VJdGVtIChlbGVtZW50LCBpc0luaW50aWFsKSB7XHJcbiAgICBpZiAoaXNJbmludGlhbCkge1xyXG4gICAgICB0aGlzLl90YXJnZXQuYXBwZW5kKGVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fdGFyZ2V0LnByZXBlbmQoZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uJyk7XHJcbiAgfVxyXG5cclxuICBvcGVuUG9wdXAoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG4gIFxyXG4gIGNsb3NlUG9wdXAoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UteCcpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fb3ZlcmxheScpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cCkge3N1cGVyKHBvcHVwKSxcclxuICAgIHRoaXMuX3ZpZXdJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fdmlldy1pbWFnZScpO1xyXG4gICAgdGhpcy5fdmlld0xvY2F0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX192aWV3LWxvY2F0aW9uJyk7XHJcbiAgfVxyXG5cclxuICBvcGVuUG9wdXAocGxhY2UsIGxpbmspIHtcclxuICAgIHRoaXMuX3ZpZXdJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fdmlld0ltYWdlLmFsdCA9IHBsYWNlO1xyXG4gICAgdGhpcy5fdmlld0xvY2F0aW9uLnRleHRDb250ZW50ID0gcGxhY2U7XHJcbiAgICBzdXBlci5vcGVuUG9wdXAgKCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwLGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgdGhpcy5faW5wdXRzID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKSk7XHJcbiAgICB0aGlzLl9idXR0b25UZXh0ID0gdGhpcy5fYnV0dG9uLnRleHRDb250ZW50O1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzICgpIHtcclxuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgdmFsdWVzW2VsZW1lbnQubmFtZV0gPSBlbGVtZW50LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMgKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY29uc3QgdmFsdWVzID0gdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh2YWx1ZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZVBvcHVwICgpIHtcclxuICAgIHN1cGVyLmNsb3NlUG9wdXAgKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0ICgpO1xyXG4gIH1cclxuXHJcbiAgc2hvd0xvYWRpbmcgKGxvYWRpbmcpIHtcclxuICAgIGlmIChsb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLic7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9idXR0b25UZXh0O1xyXG4gICAgfVxyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwLGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gIH1cclxuXHJcbiAgb3BlblBvcHVwKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgc3VwZXIub3BlblBvcHVwKCk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycyAoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0U3VibWl0KGFjdGlvbikge1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gYWN0aW9uO1xyXG59XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5uYW1lKTtcclxuICAgIHRoaXMuX2pvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZGF0YS5qb2IpO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXRhLmF2YXRhcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbyAoKSB7XHJcbiAgICB0aGlzLl9pbmZvID0ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBqb2I6IHRoaXMuX2pvYi50ZXh0Q29udGVudCxcclxuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXIuc3R5bGUuYmFja2dyb3VuZEltYWdlXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5faW5mbztcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvIChuZXdJbmZvKSB7XHJcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmV3SW5mby5uYW1lO1xyXG4gICAgdGhpcy5fam9iLnRleHRDb250ZW50ID0gbmV3SW5mby5qb2IgfHwgbmV3SW5mby5hYm91dDtcclxuICAgIHRoaXMuaWQgPSBuZXdJbmZvLl9pZDtcclxuICAgIHRoaXMuX2F2YXRhci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7bmV3SW5mby5hdmF0YXJ9KWA7XHJcbiAgfVxyXG59IiwiaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5cclxuY29uc3Qgc2VsZWN0b3JzTGlzdCA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fYnV0dG9uJyxcclxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXHJcbiAgZXJyb3JBY3RpdmVDbGFzczogJ3BvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmUnLFxyXG4gIGVycm9yVHlwZVRlbXBsYXRlOiAnLnBvcHVwX19pbnB1dC1lcnJvcl90eXBlXydcclxufVxyXG5cclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfbmFtZScpO1xyXG5jb25zdCBwcm9maWxlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX2pvYicpO1xyXG5jb25zdCBidXR0b25BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYnV0dG9uX3R5cGVfYWRkJyk7XHJcbmNvbnN0IGJ1dHRvbkVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYnV0dG9uX3R5cGVfZWRpdCcpO1xyXG5jb25zdCBidXR0b25BdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYnV0dG9uX3R5cGVfZWRpdC1hdmF0YXInKTtcclxuY29uc3QgcG9wdXBBZGRTZWxlY3RvciA9ICcucG9wdXBfdHlwZV9hZGQnO1xyXG5jb25zdCBwb3B1cEVkaXRTZWxlY3RvciA9ICcucG9wdXBfdHlwZV9lZGl0JztcclxuY29uc3QgcG9wdXBBdmF0YXJTZWxlY3RvciA9ICcucG9wdXBfdHlwZV9hdmF0YXInO1xyXG5jb25zdCBwb3B1cFZpZXdTZWxlY3RvciA9ICcucG9wdXBfdHlwZV92aWV3ZXInO1xyXG5jb25zdCBwb3B1cENvbmZpcm1hdGlvblNlbGVjdG9yID0gJy5wb3B1cF90eXBlX2NvbmZpcm0nO1xyXG5jb25zdCBjYXJkc0NvbnRhaW5lciA9ICcuY2FyZHMnO1xyXG5jb25zdCBjYXJkVGVtcGxhdGVTZWxlY3RvciA9ICcjY2FyZHNfX2VsZW1lbnQnO1xyXG5cclxuXHJcbmNvbnN0IGZvcm1BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fdHlwZV9hZGQnKTtcclxuY29uc3QgZm9ybUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fdHlwZV9lZGl0Jyk7XHJcbmNvbnN0IGZvcm1BdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fdHlwZV9hdmF0YXInKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVEYXRhID0ge1xyXG4gIG5hbWU6ICcucHJvZmlsZV9fbmFtZScsXHJcbiAgam9iOiAnLnByb2ZpbGVfX2pvYicsXHJcbiAgYXZhdGFyOiAnLnByb2ZpbGVfX2F2YXRhcidcclxufVxyXG5cclxuLyrQrdCa0JfQldCc0J/Qm9Cv0KDQqyDQmtCb0JDQodCh0J7QkiovXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQ4JyxcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiAnODM2M2UwZjUtMmM2Ny00Mzk1LWJmMjEtNGY2ZmRlNDdiMjYyJyxcclxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICB9XHJcbn0pO1xyXG5cclxuY29uc3QgY2FyZHMgPSBuZXcgU2VjdGlvbih7XHJcbiAgcmVuZGVyZXI6KGluZm8pID0+IHtcclxuICAgIGNhcmRzLnBsYWNlSXRlbShnZW5lcmF0ZUNhcmQoaW5mbyksIHRydWUpO1xyXG4gIH1cclxufSxjYXJkc0NvbnRhaW5lcik7XHJcblxyXG5jb25zdCBmb3JtQWRkVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2VsZWN0b3JzTGlzdCwgZm9ybUFkZCk7XHJcbmNvbnN0IGZvcm1FZGl0VmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2VsZWN0b3JzTGlzdCwgZm9ybUVkaXQpO1xyXG5jb25zdCBmb3JtQXZhdGFyVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2VsZWN0b3JzTGlzdCwgZm9ybUF2YXRhcik7XHJcblxyXG4vKiDQv9C+0L/QsNC/0YsgKi9cclxuY29uc3QgcG9wdXBWaWV3SXRlbSA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cFZpZXdTZWxlY3Rvcik7XHJcbmNvbnN0IHBvcHVwQ29uZmlybWF0aW9uSXRlbSA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24ocG9wdXBDb25maXJtYXRpb25TZWxlY3Rvcik7XHJcblxyXG5jb25zdCBwb3B1cEFkZEl0ZW0gPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEFkZFNlbGVjdG9yLCAodmFsdWVzKSA9PiB7XHJcbiAgcG9wdXBBZGRJdGVtLnNob3dMb2FkaW5nKHRydWUpO1xyXG4gIGFwaS5wb3N0TmV3Q2FyZCh2YWx1ZXMpXHJcbiAgICAudGhlbigoaW5mbykgPT4ge1xyXG4gICAgICBjYXJkcy5wbGFjZUl0ZW0oZ2VuZXJhdGVDYXJkKGluZm8pLCBmYWxzZSk7XHJcbiAgICAgIHBvcHVwQWRkSXRlbS5jbG9zZVBvcHVwKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cEFkZEl0ZW0uc2hvd0xvYWRpbmcoZmFsc2UpKTtcclxufSk7XHJcblxyXG5jb25zdCBwb3B1cEVkaXRJdGVtID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBFZGl0U2VsZWN0b3IsICh2YWx1ZXMpID0+IHtcclxuICBwb3B1cEVkaXRJdGVtLnNob3dMb2FkaW5nKHRydWUpO1xyXG4gIGFwaS5zZXRVc2VySW5mbyh2YWx1ZXMpXHJcbiAgLnRoZW4oKHVzZXJJbmZvKSA9PiB7XHJcbiAgICBwb3B1cEVkaXRJdGVtLmNsb3NlUG9wdXAoKTtcclxuICAgIHByb2ZpbGUuc2V0VXNlckluZm8odXNlckluZm8pO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSlcclxuICAuZmluYWxseSgoKSA9PiBwb3B1cEVkaXRJdGVtLnNob3dMb2FkaW5nKGZhbHNlKSk7XHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBBdmF0YXJJdGVtID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBBdmF0YXJTZWxlY3RvciwgKHZhbHVlcykgPT4ge1xyXG4gIHBvcHVwQXZhdGFySXRlbS5zaG93TG9hZGluZyh0cnVlKTtcclxuICBhcGkuc2V0VXNlckluZm8odmFsdWVzKVxyXG4gIC50aGVuKCh1c2VySW5mbykgPT4ge1xyXG4gICAgcG9wdXBBdmF0YXJJdGVtLmNsb3NlUG9wdXAoKTtcclxuICAgIHByb2ZpbGUuc2V0VXNlckluZm8odXNlckluZm8pO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSlcclxuICAuZmluYWxseSgoKSA9PiBwb3B1cEF2YXRhckl0ZW0uc2hvd0xvYWRpbmcoZmFsc2UpKTtcclxufSk7XHJcblxyXG4vKkluZm8qL1xyXG5jb25zdCBwcm9maWxlID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVEYXRhKTtcclxuXHJcbi8q0KTQo9Cd0JrQptCY0JgqL1xyXG4vKtCU0LXQu9Cw0LXQvCDQutCw0YDRgtC+0YfQutGDKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVDYXJkKGl0ZW0pIHtcclxuICBjb25zdCBjYXJkQ3JlYXRlZCA9IG5ldyBDYXJkIChpdGVtLCBwcm9maWxlLmlkLCBjYXJkVGVtcGxhdGVTZWxlY3RvciwgKCkgPT4gaGFuZGVsVmlldyAoaXRlbS5uYW1lLCBpdGVtLmxpbmspLCBvcGVuQ29uZmlybSwgaGFuZGVsTGlrZSk7XHJcbiAgcmV0dXJuIGNhcmRDcmVhdGVkLmNyZWF0ZUNhcmQoKTtcclxufVxyXG5cclxuLyrQo9Cy0LXRgNC10L3Riz8qL1xyXG5mdW5jdGlvbiBvcGVuQ29uZmlybSAoY2FyZCkge1xyXG4gIHBvcHVwQ29uZmlybWF0aW9uSXRlbS5vcGVuUG9wdXAoKTtcclxuICBwb3B1cENvbmZpcm1hdGlvbkl0ZW0uc2V0U3VibWl0KCgpID0+IHtcclxuICAgIGFwaS5kZWxldGVPd25lcnNDYXJkKGNhcmQuaWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBjYXJkLnJlbW92ZUNhcmQoKTtcclxuICAgICAgICBwb3B1cENvbmZpcm1hdGlvbkl0ZW0uY2xvc2VQb3B1cCgpO1xyXG4gICAgICB9KSAgICAgICAgICBcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICB9KTtcclxuICB9KVxyXG59XHJcblxyXG4vKkxpa2UqL1xyXG5mdW5jdGlvbiBoYW5kZWxMaWtlIChjYXJkKSB7XHJcbiAgaWYgKGNhcmQuaXNMaWtlZCgpKSB7XHJcbiAgICBhcGkudW5saWtlKGNhcmQuaWQpXHJcbiAgICAudGhlbigoaXRlbSkgPT4ge1xyXG4gICAgICBjYXJkLnVwZGF0ZUNvdW50ZXIoaXRlbS5saWtlcy5sZW5ndGgpO1xyXG4gICAgICBjYXJkLmxpa2VDYXJkKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgfSBlbHNlIHtcclxuICAgIGFwaS5saWtlKGNhcmQuaWQpXHJcbiAgICAudGhlbigoaXRlbSkgPT4ge1xyXG4gICAgICBjYXJkLnVwZGF0ZUNvdW50ZXIoaXRlbS5saWtlcy5sZW5ndGgpO1xyXG4gICAgICBjYXJkLmxpa2VDYXJkKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLyrQn9GA0L7RgdC80L7RgtGAINC60LDRgNGC0LjQvdC60LgqL1xyXG5mdW5jdGlvbiBoYW5kZWxWaWV3IChsaW5rLCBwbGFjZSkge1xyXG4gIHBvcHVwVmlld0l0ZW0ub3BlblBvcHVwKGxpbmssIHBsYWNlKTtcclxufVxyXG5cclxuLyrQlNCV0JnQodCi0JLQmNCvKi9cclxuLyrQndCw0YfQsNC70YzQvdCw0Y8g0LjQvdGE0L7RgNC80LDRhtC40Y8qL1xyXG5cclxuUHJvbWlzZS5hbGwoW1xyXG5hcGkuZ2V0UHJvZmlsZUluZm8oKSxcclxuYXBpLmdldEluaXRpYWxDYXJkcygpXSkgXHJcbi50aGVuKChbdXNlckluZm8sIGNhcmRzSW5mb10pPT57XHJcbiAgcHJvZmlsZS5zZXRVc2VySW5mbyh1c2VySW5mbyk7XHJcbiAgY2FyZHMucmVuZGVySXRlbXMgKGNhcmRzSW5mbyk7XHJcbn0pIFxyXG4uY2F0Y2goKGVycik9PntcclxuICBjb25zb2xlLmxvZyhlcnIpO1xyXG59KTtcclxuXHJcbi8q0JLQsNC70LjQtNCw0YbQuNGPINC+0YLQv9GA0LDQstC60Lgg0YTQvtGA0LzRiyovXHJcbmZvcm1FZGl0VmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuZm9ybUFkZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmZvcm1BdmF0YXJWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLyrQodC70YPRiNCw0YLQtdC70LgqL1xyXG5wb3B1cFZpZXdJdGVtLnNldEV2ZW50TGlzdGVuZXJzICgpO1xyXG5wb3B1cEFkZEl0ZW0uc2V0RXZlbnRMaXN0ZW5lcnMgKCk7XHJcbnBvcHVwRWRpdEl0ZW0uc2V0RXZlbnRMaXN0ZW5lcnMgKCk7XHJcbnBvcHVwQXZhdGFySXRlbS5zZXRFdmVudExpc3RlbmVycyAoKTtcclxucG9wdXBDb25maXJtYXRpb25JdGVtLnNldEV2ZW50TGlzdGVuZXJzICgpO1xyXG5cclxuYnV0dG9uRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gIGNvbnN0IGluZm8gPSBwcm9maWxlLmdldFVzZXJJbmZvKCk7XHJcbiAgcHJvZmlsZS5zZXRVc2VySW5mbyhpbmZvKTtcclxuICBwcm9maWxlTmFtZS52YWx1ZSA9IGluZm8ubmFtZTtcclxuICBwcm9maWxlSm9iLnZhbHVlID0gaW5mby5qb2I7XHJcbiAgZm9ybUVkaXRWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgcG9wdXBFZGl0SXRlbS5vcGVuUG9wdXAoKTtcclxufSk7XHJcblxyXG5idXR0b25BZGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICBmb3JtQWRkVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIHBvcHVwQWRkSXRlbS5vcGVuUG9wdXAoKTtcclxufSk7XHJcblxyXG5idXR0b25BdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICBmb3JtQXZhdGFyVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIHBvcHVwQXZhdGFySXRlbS5vcGVuUG9wdXAoKTtcclxufSk7Il0sIm5hbWVzIjpbIkFwaSIsIm9wdGlvbnMiLCJ0aGlzIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsIl9jaGVjayIsInZhbHVlcyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibmFtZSIsImFib3V0Iiwiam9iIiwiYXZhdGFyIiwicGxhY2UiLCJsaW5rIiwiY2FyZElkIiwiQ2FyZCIsImRhdGEiLCJ1c2VySWQiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGVsVmlldyIsIm9wZW5EZWxldGVQb3B1cCIsImhhbmRlbExpa2UiLCJfcGxhY2UiLCJfbGluayIsIl9saWtlcyIsImxpa2VzIiwiaWQiLCJfaWQiLCJfb3duZXIiLCJvd25lciIsIl9zZWxmIiwiX3NlbGVjdG9yIiwiX3RlbXBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsIl9lbGVtZW50IiwiY2xvbmVOb2RlIiwiX2xpa2UiLCJfY291bnRlciIsIl9kZWwiLCJfdmlldyIsIl9oYW5kZWxWaWV3IiwiX29wZW5EZWxldGVQb3B1cCIsIl9oYW5kZWxMaWtlIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwidGV4dENvbnRlbnQiLCJjb250YWlucyIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzcmMiLCJhbHQiLCJsZW5ndGgiLCJhZGQiLCJzb21lIiwibGlrZSIsIl9zZXRFdmVudExpc3RlbmVycyIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQWN0aXZlQ2xhc3MiLCJlcnJvckFjdGl2ZUNsYXNzIiwiX2Vycm9yVHlwZVRlbXBsYXRlIiwiZXJyb3JUeXBlVGVtcGxhdGUiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImVycm9yTWVzc2FnZSIsIl9lcnJvckVsZW1lbnQiLCJfaGFzSW52YWxpZElucHV0IiwiX2J1dHRvbkVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJmb3JFYWNoIiwiX2NoZWNrVmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJTZWN0aW9uIiwidGFyZ2V0U2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl90YXJnZXQiLCJpdGVtcyIsIml0ZW0iLCJpc0luaW50aWFsIiwiYXBwZW5kIiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfYnV0dG9uIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsImNsb3NlUG9wdXAiLCJ0YXJnZXQiLCJQb3B1cFdpdGhJbWFnZSIsInBvcHVwIiwiX3ZpZXdJbWFnZSIsIl92aWV3TG9jYXRpb24iLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2Zvcm0iLCJfaW5wdXRzIiwiX2J1dHRvblRleHQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJsb2FkaW5nIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiX2hhbmRsZVN1Ym1pdCIsImFjdGlvbiIsIlVzZXJJbmZvIiwiX25hbWUiLCJfam9iIiwiX2F2YXRhciIsIl9pbmZvIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJuZXdJbmZvIiwic2VsZWN0b3JzTGlzdCIsInByb2ZpbGVOYW1lIiwicHJvZmlsZUpvYiIsImJ1dHRvbkFkZCIsImJ1dHRvbkVkaXQiLCJidXR0b25BdmF0YXIiLCJmb3JtQWRkIiwiZm9ybUVkaXQiLCJmb3JtQXZhdGFyIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImNhcmRzIiwiaW5mbyIsInBsYWNlSXRlbSIsImdlbmVyYXRlQ2FyZCIsImZvcm1BZGRWYWxpZGF0b3IiLCJmb3JtRWRpdFZhbGlkYXRvciIsImZvcm1BdmF0YXJWYWxpZGF0b3IiLCJwb3B1cFZpZXdJdGVtIiwicG9wdXBDb25maXJtYXRpb25JdGVtIiwicG9wdXBBZGRJdGVtIiwic2hvd0xvYWRpbmciLCJwb3N0TmV3Q2FyZCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZpbmFsbHkiLCJwb3B1cEVkaXRJdGVtIiwic2V0VXNlckluZm8iLCJ1c2VySW5mbyIsInByb2ZpbGUiLCJwb3B1cEF2YXRhckl0ZW0iLCJvcGVuUG9wdXAiLCJvcGVuQ29uZmlybSIsImNyZWF0ZUNhcmQiLCJjYXJkIiwic2V0U3VibWl0IiwiZGVsZXRlT3duZXJzQ2FyZCIsInJlbW92ZUNhcmQiLCJpc0xpa2VkIiwidW5saWtlIiwidXBkYXRlQ291bnRlciIsImxpa2VDYXJkIiwiYWxsIiwiZ2V0UHJvZmlsZUluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJjYXJkc0luZm8iLCJyZW5kZXJJdGVtcyIsImVuYWJsZVZhbGlkYXRpb24iLCJzZXRFdmVudExpc3RlbmVycyIsImdldFVzZXJJbmZvIiwicmVzZXRWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==